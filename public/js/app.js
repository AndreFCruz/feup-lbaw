!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=11)}([function(t,e){t.exports={sendAjaxRequest:function(t,e,n,i){var o=new XMLHttpRequest;o.open(t,e,!0),o.setRequestHeader("X-CSRF-TOKEN",document.querySelector('meta[name="csrf-token"]').content),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.addEventListener("load",i.bind(o)),o.send(function(t){return null==t?null:Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}(n))}}},function(t,e,n){var i=n(2);function o(t){return s(t,!1)}function r(t){return s(t,!0)}function s(t,e){var n=document.querySelector("template#alert-template").innerHTML,o=document.createElement("div");return o.innerHTML=i.render(n,{message:t,isSucess:e}),document.querySelector(".container-messages").appendChild(o),o}t.exports={displayError:o,displaySuccess:r,addTimedError:function(t){var e=o(t);$(e).delay(4e3).slideUp(500,function(){$(this).remove()})},addTimedSuccess:function(t){var e=r(t);$(e).delay(4e3).slideUp(500,function(){$(this).remove()})}}},function(t,e,n){var i,o,r,s;s=function(t){var e=Object.prototype.toString,n=Array.isArray||function(t){return"[object Array]"===e.call(t)};function i(t){return"function"==typeof t}function o(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function r(t,e){return null!=t&&"object"==typeof t&&e in t}var s=RegExp.prototype.test;var a=/\S/;function c(t){return!function(t,e){return s.call(t,e)}(a,t)}var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};var l=/\s*/,d=/\s+/,h=/\s*=/,p=/\s*\}/,f=/#|\^|\/|>|\{|&|=|!/;function v(t){this.string=t,this.tail=t,this.pos=0}function m(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function y(){this.cache={}}v.prototype.eos=function(){return""===this.tail},v.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},v.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},m.prototype.push=function(t){return new m(t,this)},m.prototype.lookup=function(t){var e,n=this.cache;if(n.hasOwnProperty(t))e=n[t];else{for(var o,s,a=this,c=!1;a;){if(t.indexOf(".")>0)for(e=a.view,o=t.split("."),s=0;null!=e&&s<o.length;)s===o.length-1&&(c=r(e,o[s])),e=e[o[s++]];else e=a.view[t],c=r(a.view,t);if(c)break;a=a.parent}n[t]=e}return i(e)&&(e=e.call(this.view)),e},y.prototype.clearCache=function(){this.cache={}},y.prototype.parse=function(e,i){var r=this.cache,s=r[e];return null==s&&(s=r[e]=function(e,i){if(!e)return[];var r,s,a,u=[],m=[],y=[],g=!1,w=!1;function b(){if(g&&!w)for(;y.length;)delete m[y.pop()];else y=[];g=!1,w=!1}function k(t){if("string"==typeof t&&(t=t.split(d,2)),!n(t)||2!==t.length)throw new Error("Invalid tags: "+t);r=new RegExp(o(t[0])+"\\s*"),s=new RegExp("\\s*"+o(t[1])),a=new RegExp("\\s*"+o("}"+t[1]))}k(i||t.tags);for(var _,S,T,C,E,x,O=new v(e);!O.eos();){if(_=O.pos,T=O.scanUntil(r))for(var L=0,M=T.length;L<M;++L)c(C=T.charAt(L))?y.push(m.length):w=!0,m.push(["text",C,_,_+1]),_+=1,"\n"===C&&b();if(!O.scan(r))break;if(g=!0,S=O.scan(f)||"name",O.scan(l),"="===S?(T=O.scanUntil(h),O.scan(h),O.scanUntil(s)):"{"===S?(T=O.scanUntil(a),O.scan(p),O.scanUntil(s),S="&"):T=O.scanUntil(s),!O.scan(s))throw new Error("Unclosed tag at "+O.pos);if(E=[S,T,_,O.pos],m.push(E),"#"===S||"^"===S)u.push(E);else if("/"===S){if(!(x=u.pop()))throw new Error('Unopened section "'+T+'" at '+_);if(x[1]!==T)throw new Error('Unclosed section "'+x[1]+'" at '+_)}else"name"===S||"{"===S||"&"===S?w=!0:"="===S&&k(T)}if(x=u.pop())throw new Error('Unclosed section "'+x[1]+'" at '+O.pos);return function(t){for(var e,n=[],i=n,o=[],r=0,s=t.length;r<s;++r)switch((e=t[r])[0]){case"#":case"^":i.push(e),o.push(e),i=e[4]=[];break;case"/":o.pop()[5]=e[2],i=o.length>0?o[o.length-1][4]:n;break;default:i.push(e)}return n}(function(t){for(var e,n,i=[],o=0,r=t.length;o<r;++o)(e=t[o])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(i.push(e),n=e));return i}(m))}(e,i)),s},y.prototype.render=function(t,e,n){var i=this.parse(t),o=e instanceof m?e:new m(e);return this.renderTokens(i,o,n,t)},y.prototype.renderTokens=function(t,e,n,i){for(var o,r,s,a="",c=0,u=t.length;c<u;++c)s=void 0,"#"===(r=(o=t[c])[0])?s=this.renderSection(o,e,n,i):"^"===r?s=this.renderInverted(o,e,n,i):">"===r?s=this.renderPartial(o,e,n,i):"&"===r?s=this.unescapedValue(o,e):"name"===r?s=this.escapedValue(o,e):"text"===r&&(s=this.rawValue(o)),void 0!==s&&(a+=s);return a},y.prototype.renderSection=function(t,e,o,r){var s=this,a="",c=e.lookup(t[1]);if(c){if(n(c))for(var u=0,l=c.length;u<l;++u)a+=this.renderTokens(t[4],e.push(c[u]),o,r);else if("object"==typeof c||"string"==typeof c||"number"==typeof c)a+=this.renderTokens(t[4],e.push(c),o,r);else if(i(c)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");null!=(c=c.call(e.view,r.slice(t[3],t[5]),function(t){return s.render(t,e,o)}))&&(a+=c)}else a+=this.renderTokens(t[4],e,o,r);return a}},y.prototype.renderInverted=function(t,e,i,o){var r=e.lookup(t[1]);if(!r||n(r)&&0===r.length)return this.renderTokens(t[4],e,i,o)},y.prototype.renderPartial=function(t,e,n){if(n){var o=i(n)?n(t[1]):n[t[1]];return null!=o?this.renderTokens(this.parse(o),e,n,o):void 0}},y.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);if(null!=n)return n},y.prototype.escapedValue=function(e,n){var i=n.lookup(e[1]);if(null!=i)return t.escape(i)},y.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="2.3.0",t.tags=["{{","}}"];var g=new y;return t.clearCache=function(){return g.clearCache()},t.parse=function(t,e){return g.parse(t,e)},t.render=function(t,e,i){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+(n(o=t)?"array":typeof o)+'" was given as the first argument for mustache#render(template, view, partials)');var o;return g.render(t,e,i)},t.to_html=function(e,n,o,r){var s=t.render(e,n,o);if(!i(r))return s;r(s)},t.escape=function(t){return String(t).replace(/[&<>"'`=\/]/g,function(t){return u[t]})},t.Scanner=v,t.Context=m,t.Writer=y,t},"object"==typeof e&&e&&"string"!=typeof e.nodeName?s(e):(o=[e],void 0===(r="function"==typeof(i=s)?i.apply(e,o):i)||(t.exports=r))},function(t,e,n){var i=n(0),o=n(1);function r(t){s(document.querySelectorAll(t+" .vote"),document.querySelectorAll(t+" .score"))}function s(t,e){if(null!=t)for(var n=function(n){var r=t[n];r.addEventListener("click",function(){var s=r.dataset.message_id,a=r.dataset.positive,c="/messages/"+s+"/vote",u={positive:a};i.sendAjaxRequest("post",c,u,function(){if(401==this.status)window.location="/login";else if(404==this.status)window.location="/404";else if(403==this.status){var i=o.displayError("You cannot vote your messages.");$(i).delay(4e3).slideUp(500,function(){$(this).remove()})}else if(200==this.status){if(r.classList.contains("discrete")){r.classList.remove("discrete");var s="true"===a?n+1:n-1;t[s].classList.contains("discrete")||t[s].classList.add("discrete")}else r.classList.add("discrete");e[Math.floor(n/2)].innerHTML=JSON.parse(this.responseText).score}})})},r=0;r<t.length;r++)n(r)}function a(t){var e=t.querySelector(".mark");null!=e&&e.addEventListener("click",function(){var n="/messages/"+e.dataset.message_id+"/mark_correct";i.sendAjaxRequest("post",n,null,function(){if(401==this.status)window.location="/login";else if(404==this.status)window.location="/404";else if(403==this.status){var n=o.displayError("You cannot mark this answer as correct.");$(n).delay(4e3).slideUp(500,function(){$(this).remove()})}else if(200==this.status)if(e.classList.contains("marked"))e.classList.remove("marked"),t.classList.remove("border-success");else{var i=document.querySelector(".answer.border-success");if(null!=i){i.classList.remove("border-success");var r=i.querySelector(".mark.marked");null!=r&&r.classList.remove("marked")}e.classList.add("marked"),t.classList.add("border-success")}})})}function c(t){u(document.querySelectorAll(t+" .report"))}function u(t){if(null!=t)for(var e=function(e){var n=t[e];n.addEventListener("click",function(){if($(bookmark).tooltip("hide"),n.classList.contains("discrete")){var t=n.dataset.message_id,e="/messages/"+t+"/report";i.sendAjaxRequest("post",e,{message_id:t},function(){if(401==this.status)window.location="/login";else if(404==this.status)window.location="/404";else if(200==this.status){n.classList.remove("discrete");var t=JSON.parse(this.responseText);if(!t.is_banned)return;if("question"==!t.type){var e=function(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}(n,t.type);e.parentNode.removeChild(e)}o.displaySuccess("The "+t.type+" you've reported has been removed. Thank you for keeping SegFault clean!")}})}})},n=0;n<t.length;n++)e(n)}decodeHTML=function(t){var e=document.createElement("textarea");return e.innerHTML=t,e.value},document.addEventListener("DOMContentLoaded",function(){var t=document.querySelectorAll(".markdown"),e=new Object;e.options={renderingConfig:{codeSyntaxHighlighting:!0}};for(var n=0;n<t.length;n++){t[n].style.visibility="visible";var i=SimpleMDE.prototype.markdown.bind(e,decodeHTML(t[n].innerHTML));t[n].innerHTML=i()}}),function(){var t=document.querySelector("#bookmark");if(null!=t){var e=t.querySelector("i");t.addEventListener("click",function(){$(t).tooltip("hide");var n=t.getAttribute("data-message-id"),o=t.classList.contains("active"),r="/users/bookmarks/"+n,s={question_id:n};i.sendAjaxRequest("post",r,s,function(){200==this.status&&(o?(t.classList.add("inactive"),t.classList.remove("active"),e.className=e.className.replace("fas","far")):(t.classList.add("active"),t.classList.remove("inactive"),e.className=e.className.replace("far","fas")))})})}}(),r("#question-body"),c("#question-body"),$("#deleteQuestionModal").on("show.bs.modal",function(t){!function(t){var e=t.getAttribute("data-message-id");if(null!=e){var n=document.getElementById("delete-question");if(null!=n){var r=function(){var t=this;i.sendAjaxRequest("delete",window.location+"/delete",{question:e},function(){401==t.status?window.location="/login":404==t.status?window.location="/404":200!=t.status?window.location="/questions/recent":o.displayError("Failed to delete the question")})};n.addEventListener("click",r),$("#deleteQuestionModal").on("hide.bs.modal",function(t){n.removeEventListener("click",r)})}}}($(t.relatedTarget)[0])}),t.exports={addVoteEvent:r,addMarkCorrectEvent:function(){var t=document.querySelectorAll(".answer"),e=!0,n=!1,i=void 0;try{for(var o,r=t[Symbol.iterator]();!(e=(o=r.next()).done);e=!0)a(o.value)}catch(t){n=!0,i=t}finally{try{!e&&r.return&&r.return()}finally{if(n)throw i}}},markCorrectEvent:a,voteEvent:s,addReportEvent:c,reportEvent:u}},function(t,e){function n(){return window.location.pathname+"/answers"}t.exports={getAnswersURL:n,getAnswerIdURL:function(t){return n()+"/"+t}}},function(t,e){function n(t){return window.location.pathname+"/answers/"+t+"/comments"}t.exports={getAnswerCommentsURL:n,getUniqueAnswerCommentURL:function(t,e){return n(t)+"/"+e},getQuestionCommentsURL:function(){return window.location.pathname+"/comments"},getUniqueQuestionCommentURL:function(){return window.location.pathname+"/comments"}}},function(t,e,n){var i=n(8),o=n(22),r=n(23),s=(n(7),n(24));window.addEventListener("load",function(){i.genericClickListener(".show-question-comments",o.viewQuestionComments)}),t.exports={addEventListeners:function(){i.genericClickListener(".show-comments",o.viewAnswerComments),i.genericClickListener(".new-comment-submit",r.addCommentRequest),i.genericEnterListener(".new-comment-content",r.addCommentRequest),$("#deleteCommentModal").on("show.bs.modal",function(t){s.removeComment($(t.relatedTarget)[0])})}}},function(t,e,n){var i=n(0),o=n(5);function r(t,e){var n=t.parentNode;n.removeChild(t),n.insertBefore(e,n.firstChild)}t.exports={enableEditMode:function(t){var e=document.querySelector(".edit-comments[data-message-id='"+t+"']");null!=e&&(console.log("Adding listener"),e.addEventListener("click",function(){console.log("bomba com o edit"),function(t){console.log("fui bem usado");var e=".editable-content[data-message-id='"+t+"']",n=document.querySelector(e);if(null!=n){var s=n.parentNode,a=n.innerText;s.removeChild(n);var c=document.createElement("input");c.classList.add("form-control"),c.value=a,s.insertBefore(c,s.firstChild),function(t,e,n){t.addEventListener("keyup",function(s){switch(s.keyCode){case 13:!function(t,e,n){var s=t.parentNode.parentNode.parentNode.parentNode.parentNode.getAttribute("data-message-id"),a={content:t.value,commentable:s,comment:n};i.sendAjaxRequest("put",o.getUniqueAnswerCommentURL(s,n),a,function(n){!function(t,e,n){if(403!=t.status)if(200==t.status){var i=JSON.parse(t.responseText).comment;n.innerText=i.content.version,r(e,n)}else displayError("Failed to edit the comment");else displayError("You have no permission to edit this comment")}(n.target,t,e)})}(t,e,n);break;case 27:return void r(t,e)}})}(c,n,t)}}(t)}))}}},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports={genericClickListener:function(t,e){var i=document.querySelectorAll(t);if(null!=i){var o=function(t){var n=t.getAttribute("data-message-id");if(null==n)return{v:void 0};t.addEventListener("click",function(){e(n)})},r=!0,s=!1,a=void 0;try{for(var c,u=i[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){var l=o(c.value);if("object"===(void 0===l?"undefined":n(l)))return l.v}}catch(t){s=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(s)throw a}}}},genericEnterListener:function(t,e){var i=document.querySelectorAll(t);if(null!=i){var o=function(t){var n=t.getAttribute("data-message-id");if(null==n)return{v:void 0};t.addEventListener("keyup",function(t){13==t.keyCode&&e(n)})},r=!0,s=!1,a=void 0;try{for(var c,u=i[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){var l=o(c.value);if("object"===(void 0===l?"undefined":n(l)))return l.v}}catch(t){s=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(s)throw a}}}},genericSingleClickListener:function(t,e,n){var i=document.querySelector(t+"[data-message-id='"+n+"']");null!=i&&i.addEventListener("click",function(){e(n)})},genericSingleEnterListener:function(t,e,n){var i=document.querySelector(t+"[data-message-id='"+n+"']");null!=i&&i.addEventListener("keyup",function(t){13==t.keyCode&&e(n)})}}},function(t,e,n){var i=n(2),o=n(3);t.exports={createAnswer:function(t){var e=document.querySelector("template.answer").innerHTML,n=document.createElement("span");t.hasComments=t.answer.num_comments>0,function(t){t.markdown=function(){return function(t,e){var n=new Object;n.options={renderingConfig:{codeSyntaxHighlighting:!0}};var i=SimpleMDE.prototype.markdown.bind(n,decodeHTML(e(t)));return i()}}}(t),n.innerHTML=i.render(e,t),function(t){o.markCorrectEvent(t.firstElementChild)}(n),document.getElementById("answers-container").appendChild(n.firstElementChild)},cleanAnswers:function(){var t=document.getElementById("answers-container"),e=!0,n=!1,i=void 0;try{for(var o,r=t.childNodes[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var s=o.value;"answer-skeleton"==s.id&&t.removeChild(s)}}catch(t){n=!0,i=t}finally{try{!e&&r.return&&r.return()}finally{if(n)throw i}}},jumpToElement:function(t){var e=document.getElementById(t),n=e.offsetTop,i=e.offsetHeight,o=window.screenY,r=n+i,s=setInterval(function(){window.scrollTo(0,o),inc=(r-o)/15,(o+=inc>5?inc:5)>=r&&clearInterval(s)},20)}}},function(t,e,n){var i=n(2);function o(t){var e=".message-comments[data-message-id='"+t+"']";return document.querySelector(e)}function r(t,e){var n=document.querySelector("a[aria-controls='MessageComments"+t+"']");if(e){var i=n.parentNode.nextElementSibling.firstElementChild,o=null!=i?i.innerText.split(" ")[0]:0;n.innerHTML=isNaN(o)&&o>0?"Show Comments":"Add Comment"}else n.innerHTML="Hide Comments"}t.exports={createComments:function(t,e){if(0!=t.comments.length){var n=document.querySelector("template.comments").innerHTML,s=document.createElement("span");s.innerHTML=i.render(n,t);var a=o(e),c=a.firstElementChild;null==c||c.classList.contains("comment-creator")?a.insertBefore(s,c):a.replaceChild(s,c),r(e,!1)}},createCommentHTML:function(t){var e=document.querySelector("template.comment").innerHTML,n=document.createElement("span");return n.innerHTML=i.render(e,t),n.children[0]},getCommentsDropDown:o,toggleShowMsg:r}},function(t,e,n){n(12),t.exports=n(35)},function(t,e,n){n(0),n(13),n(3),n(14),n(15),n(16),n(17),n(18),n(19),n(20),n(6),n(29),n(30),n(31),n(32)},function(t,e,n){var i,o=n(0),r=n(1);null!=(i=document.getElementById("submit_question"))&&i.addEventListener("click",function(){var t=document.getElementById("submit_question_form").dataset.redirect,e=document.querySelector('input[name="question"]'),n={question:null==e?null:e.value,title:document.querySelector('input[name="title"]').value,content:document.querySelector('textarea[name="content"]').value,tags:document.querySelector('input[name="tags"]').value};o.sendAjaxRequest("post",t,n,function(){if(400==this.status)r.displayError(this.responseText);else{var t=JSON.parse(this.responseText);window.location="/questions/"+t.question}})})},function(t,e){$(window).scroll(function(){var t=$(window).scrollTop();t>30?$("body > header.sticky-top").addClass("sticky-shadow"):t<=0&&$("body > header.sticky-top").removeClass("sticky-shadow")})},function(t,e,n){var i=n(0);function o(t,e){if(!t)return console.warn("Tagify: ","invalid input element ",t),this;if(this.settings=this.extend({},e,this.DEFAULTS),this.settings.readonly=t.hasAttribute("readonly"),this.legacyFixes(),t.pattern)try{this.settings.pattern=new RegExp(t.pattern)}catch(t){}if(e&&e.delimiters)try{this.settings.delimiters=new RegExp("["+e.delimiters+"]")}catch(t){}this.id=Math.random().toString(36).substr(2,9),this.value=[],this.DOM={},this.extend(this,new this.EventDispatcher),this.build(t),this.events()}o.prototype={DEFAULTS:{delimiters:",",pattern:"",callbacks:{},duplicates:!1,enforceWhitelist:!0,autocomplete:!1,whitelist:[],blacklist:[],maxTags:5,suggestionsMinChars:1,maxSuggestions:10},legacyFixes:function(){var t=this.settings;t.hasOwnProperty("enforeWhitelist")&&!t.hasOwnProperty("enforceWhitelist")&&(t.enforceWhitelist=t.enforeWhitelist,delete t.enforeWhitelist,console.warn("Please update your Tagify settings. The 'enforeWhitelist' property is deprecated and you should be using 'enforceWhitelist'."))},build:function(t){var e=t.value,n='<div><input list="tagifySuggestions'+this.id+'" class="placeholder"/><span>'+t.placeholder+"</span></div>";this.DOM.originalInput=t,this.DOM.scope=document.createElement("tags"),t.className&&(this.DOM.scope.className=t.className),this.DOM.scope.innerHTML=n,this.DOM.input=this.DOM.scope.querySelector("input"),this.settings.readonly&&this.DOM.scope.classList.add("readonly"),t.parentNode.insertBefore(this.DOM.scope,t),this.DOM.scope.appendChild(t),this.settings.autocomplete&&this.settings.whitelist.length&&("suggestions"in this?this.suggestions.init():this.DOM.datalist=this.buildDataList()),e&&this.addTags(e).forEach(function(t){t&&t.classList.add("tagify--noAnim")})},destroy:function(){this.DOM.scope.parentNode.appendChild(this.DOM.originalInput),this.DOM.scope.parentNode.removeChild(this.DOM.scope)},extend:function(t,e,n){function i(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}return t instanceof Object||(t={}),n?(i(t,n),i(t,e)):i(t,e),t},EventDispatcher:function(){var t=document.createTextNode("");this.off=t.removeEventListener.bind(t),this.on=t.addEventListener.bind(t),this.trigger=function(e,n){var i;if(e)if(this.isJQueryPlugin)$(this.DOM.originalInput).triggerHandler(e,[n]);else{try{i=new CustomEvent(e,{detail:n})}catch(t){(i=document.createEvent("Event")).initEvent("toggle",!1,!1)}t.dispatchEvent(i)}}},events:function(){var t=this,e={paste:["onPaste","input"],focus:["onFocusBlur","input"],blur:["onFocusBlur","input"],input:["onInput","input"],keydown:["onKeydown","input"],click:["onClickScope","scope"]};for(var n in e)this.DOM[e[n][1]].addEventListener(n,this.callbacks[e[n][0]].bind(this));["add","remove","duplicate","maxTagsExceed","blacklisted","notWhitelisted"].forEach(function(e){t.on(e,t.settings.callbacks[e])}),this.isJQueryPlugin&&$(this.DOM.originalInput).on("tagify.removeAllTags",this.removeAllTags.bind(this))},callbacks:{onFocusBlur:function(t){var e=t.target.value.trim();"focus"==t.type?t.target.className="input":"blur"==t.type&&e||(t.target.className="input placeholder")},onKeydown:function(t){var e,n=t.target.value,i=this;if("Backspace"!=t.key||""!=n&&8203!=n.charCodeAt(0)||(e=(e=this.DOM.scope.querySelectorAll("tag:not(.tagify--hide)"))[e.length-1],this.removeTag(e)),"Escape"==t.key&&(t.target.value=""),"Enter"==t.key){if(t.preventDefault(),this.addTags(n).length){t.target.value="";var o=document.querySelector("ul.suggestions");o.parentNode.removeChild(o)}return!1}this.noneDatalistInput&&clearTimeout(this.noneDatalistInput),this.noneDatalistInput=setTimeout(function(){i.noneDatalistInput=null},50)},onInput:function(t){var e,n=this,i=t.target.value,o=(i[i.length-1],!this.noneDatalistInput&&i.length>1),r=i.length>=this.settings.suggestionsMinChars;t.target.style.width=7*(t.target.value.length+1)+"px",-1!=i.slice().search(this.settings.delimiters)||o?this.addTags(i).length&&(t.target.value=""):this.settings.autocomplete&&this.settings.whitelist.length&&(e=this.DOM.input.parentNode.contains(this.DOM.datalist),!r&&e?this.DOM.input.parentNode.removeChild(this.DOM.datalist):r&&!e&&this.DOM.input.parentNode.appendChild(this.DOM.datalist));var s=document.querySelector("ul.suggestions");if(null!=s&&s.parentNode.removeChild(s),r){var a=document.querySelector("tags").parentNode;(s=document.createElement("ul")).className="suggestions",a.insertAdjacentElement("afterend",s);for(var c=new RegExp(t.target.value,"i"),u=function(e){var i=n.settings.whitelist[e];if(c.test(i)){var o=document.createElement("li");o.innerHTML='<tag value="'+i+'"><div><span title="'+i+'">'+i+"</span></div></tag>",o.className="suggestion",s.appendChild(o);var r=n;o.addEventListener("click",function(){r.addTags(i).length&&(s.parentNode.removeChild(s),t.target.value=""),r.DOM.input.focus()})}},l=0;l<this.settings.whitelist.length;l++)u(l);0==s.children.length&&(s.style.display="none")}},onPaste:function(t){var e=this;this.noneDatalistInput&&clearTimeout(this.noneDatalistInput),this.noneDatalistInput=setTimeout(function(){e.noneDatalistInput=null},50)},onClickScope:function(t){"TAGS"==t.target.tagName&&this.DOM.input.focus(),"X"==t.target.tagName&&this.removeTag(t.target.parentNode)}},buildDataList:function(){var t,e="",n=document.createElement("datalist");for(n.id="tagifySuggestions"+this.id,n.innerHTML="<label>                                 select from the list:                                 <select>                                     <option value=''></option>                                     [OPTIONS]                                 </select>                             </label>",t=this.settings.whitelist.length;t--;)e+="<option>"+this.settings.whitelist[t]+"</option>";return n.innerHTML=n.innerHTML.replace("[OPTIONS]",e),n},getNodeIndex:function(t){for(var e=0;t=t.previousSibling;)3==t.nodeType&&/^\s*$/.test(t.data)||e++;return e},isTagDuplicate:function(t){return this.value.some(function(e){return t.toLowerCase()===e.value.toLowerCase()})},markTagByValue:function(t,e){var n,i;if(!e)for(i=(n=this.DOM.scope.querySelectorAll("tag")).length;i--;)n[i].textContent.toLowerCase().includes(t.toLowerCase())&&(e=n[i]);return!!e&&(e.classList.add("tagify--mark"),setTimeout(function(){e.classList.remove("tagify--mark")},2e3),!0)},isTagBlacklisted:function(t){return t=t.split(" "),this.settings.blacklist.filter(function(e){return-1!=t.indexOf(e)}).length},isTagWhitelisted:function(t){var e=this.settings.whitelist.findIndex(function(e){return t.value.toLowerCase()===e.toLowerCase()});return-1!=e&&(t.value=this.settings.whitelist[e],!0)},addTags:function(t){var e=this,n=[];return this.DOM.input.removeAttribute("style"),(t=function(t){var e=this.settings.whitelist[0]instanceof Object,n=t instanceof Array&&"value"in t[0],i=t;if(n)return i;if(!n&&"string"==typeof t&&e){var o=this.settings.whitelist.filter(function(e){return e.value.toLowerCase()==t.toLowerCase()});o[0]&&(n=!0,i=o)}if(!n){if(!(t=t.trim()))return[];i=t.split(this.settings.delimiters).map(function(t){return{value:t.trim()}})}return i.filter(function(t){return t})}.call(this,t)).forEach(function(t){var i=function(t){var e,n=t.value.trim(),i=this.value.length>=this.settings.maxTags;return n?this.settings.pattern&&!this.settings.pattern.test(n)?"pattern":this.isTagDuplicate(n)&&(this.trigger("duplicate",n),!this.settings.duplicates)?"duplicate":!(this.isTagBlacklisted(n)||this.settings.enforceWhitelist&&!this.isTagWhitelisted(t)||i)||(t.class=t.class?t.class+" tagify--notAllowed":"tagify--notAllowed",i?e="maxTagsExceed":this.isTagBlacklisted(n)?e="blacklisted":this.settings.enforceWhitelist&&!this.isTagWhitelisted(t)&&(e="notWhitelisted"),this.trigger(e,{value:n,index:this.value.length}),"notAllowed"):"empty"}.call(e,t);if(!0===i||"notAllowed"==i){var o=e.createTagElem(t);(function(t){this.DOM.scope.insertBefore(t,this.DOM.input.parentNode)}).call(e,o),"notAllowed"==i?setTimeout(function(){e.removeTag(o,!0)},1e3):(e.value.push(t),e.update(),e.trigger("add",e.extend({},t,{index:e.value.length,tag:o})),n.push(o))}}),n},createTagElem:function(t){var e=document.createElement("tag");return e.innerHTML="<x></x><div><span title='"+t.value+"'>"+t.value+" </span></div>",function(t,e){var n,i=Object.keys(e);for(n=i.length;n--;){var o=i[n];if(!e.hasOwnProperty(o))return;t.setAttribute(o,e[o])}}(e,t),e},removeTag:function(t,e){var n,i=this.getNodeIndex(t);t&&(t.style.width=parseFloat(window.getComputedStyle(t).width)+"px",document.body.clientTop,t.classList.add("tagify--hide"),setTimeout(function(){t.parentNode.removeChild(t)},400),e||(n=this.value.splice(i,1)[0],this.update(),this.trigger("remove",this.extend({},n,{index:i,tag:t}))))},removeAllTags:function(){this.value=[],this.update(),Array.prototype.slice.call(this.DOM.scope.querySelectorAll("tag")).forEach(function(t){t.parentNode.removeChild(t)})},update:function(){var t=this.value.map(function(t){return t.value}).join(",");this.DOM.originalInput.value=t}},null==window.location.pathname.match(/ask_question/)&&null==window.location.pathname.match(/edit_question/)||function(){console.log("Adding tags");var t=document.querySelector("input[name=tags]");null!=t&&i.sendAjaxRequest("get","/tag_list",{},function(e){for(var n=e.target,i=JSON.parse(n.response),r=[],s=0;s<i.length;s++)r.push(i[s].name);new o(t,{whitelist:r})})}()},function(t,e){$(function(){$('[data-toggle="tooltip"]').tooltip()})},function(t,e,n){var i,o=n(0),r=n(1);function s(t,e){var n=document.querySelector("#"+t+"-save"),i=document.querySelector("#"+t+"-input"),o=document.querySelector("#"+t+"-img");null!=n&&null!=i&&n.addEventListener("click",function(t){if(t.preventDefault(),t.stopImmediatePropagation(),0!=i.files.length){var n=i.files[0],s=new FormData,a=new XMLHttpRequest;a.addEventListener("load",function(e){var n=this.responseText;if(200==this.status)o.src=n+"?time="+performance.now();else if(403==t.target.status)window.location.replace("/login");else{var i=r.displayError(JSON.parse(this.responseText).image[0]);$(i).delay(4e3).slideUp(500,function(){$(this).remove()})}}),a.open("POST","/users/edit/image/"+e,!0),a.setRequestHeader("X-CSRF-TOKEN",document.querySelector('meta[name="csrf-token"]').content),s.append("image",n),a.send(s)}})}function a(t){var e=void 0;200==t.target.status?e=r.displaySuccess("You changed your biography with success!"):403==t.target.status?window.location.replace("/login"):e=r.displayError("Error changing your biography."),$(e).delay(4e3).slideUp(500,function(){$(this).remove()})}s("bg","background"),s("p","profile"),null!=(i=document.querySelector("#bio-save"))&&i.addEventListener("click",function(t){var e=document.querySelector("#bio-input");null!=e&&o.sendAjaxRequest("POST","/users/edit/biography",{biography:e.value},a)})},function(t,e){!function(){var t=document.querySelectorAll(".input100"),e=function(t){console.log(t);var e=t.placeholder;t.addEventListener("focus",function(){t.placeholder=""}),t.addEventListener("blur",function(){setTimeout(function(){""==t.value&&(t.placeholder=e)},200)})},n=!0,i=!1,o=void 0;try{for(var r,s=t[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var a=r.value;e(a)}}catch(t){i=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}}()},function(t,e){function n(t){var e=document.getElementById(t);if(null!=e){var n=function(t){var e=new SimpleMDE({autoDownloadFontAwesome:!1,spellChecker:!1,renderingConfig:{codeSyntaxHighlighting:!0},element:t,forceSync:!0,toolbar:["bold","italic","strikethrough","heading","code","quote","unordered-list","ordered-list","link","image","table","horizontal-rule","preview",{name:"side-by-side",action:function(t){var e=t.codemirror,n=e.getWrapperElement(),i=document.querySelector(".main-content"),o=n.nextSibling,r=t.toolbarElements["side-by-side"],s=!1;/editor-preview-active-side/.test(o.className)?(o.className=o.className.replace(/\s*editor-preview-active-side\s*/g,""),i.className=i.className.replace(/\s*preview-content\s*/g,""),r.className=r.className.replace(/\s*active\s*/g,""),n.className=n.className.replace(/\s*CodeMirror-sided\s*/g," ")):(setTimeout(function(){o.className+=" editor-preview-active-side"},1),r.className+=" active",n.className+=" CodeMirror-sided",i.className+=" preview-content",s=!0);var a=n.lastChild;if(/editor-preview-active/.test(a.className)){a.className=a.className.replace(/\s*editor-preview-active\s*/g,"");var c=t.toolbarElements.preview,u=n.previousSibling;c.className=c.className.replace(/\s*active\s*/g,""),u.className=u.className.replace(/\s*disabled-for-preview*/g,"")}e.sideBySideRenderingFunction||(e.sideBySideRenderingFunction=function(){o.innerHTML=t.options.previewRender(t.value(),o)}),s?(o.innerHTML=t.options.previewRender(t.value(),o),e.on("update",e.sideBySideRenderingFunction)):e.off("update",e.sideBySideRenderingFunction),e.refresh()},className:"fa fa-columns no-disable",title:"Toggle Side by Side"}]});return e.value(""),e}(e);$("#"+t).data("mde",n);var i=e.getAttribute("value");null!=i&&n.value(i)}}n("editor"),n("edit-editor")},function(t,e,n){var i=n(8),o=n(21),r=n(28);window.addEventListener("load",function(){o.getAnswersRequest(),i.genericClickListener("#answer-creator",r.addAnswerRequest)})},function(t,e,n){var i=n(0),o=n(1),r=n(9),s=n(4),a=n(6),c=n(3),u=n(25),l=n(26),d=n(27);function h(){if(200==this.status){var t=JSON.parse(this.responseText);r.cleanAnswers();var e=!0,n=!1,i=void 0;try{for(var s,h=t.answers[Symbol.iterator]();!(e=(s=h.next()).done);e=!0){var p=s.value;r.createAnswer({answer:p,is_authenticated:t.is_authenticated})}}catch(t){n=!0,i=t}finally{try{!e&&h.return&&h.return()}finally{if(n)throw i}}u.sortAnswers(),a.addEventListeners(),c.addVoteEvent("#answers-container"),c.addReportEvent("#answers-container"),c.addMarkCorrectEvent(),$("#editAnswerModal").on("show.bs.modal",function(t){l.editAnswer($(t.relatedTarget)[0])}),$("#deleteAnswerModal").on("show.bs.modal",function(t){d.removeAnswer($(t.relatedTarget)[0])})}else o.displayError("Failed to retrieve Question's answers")}t.exports={getAnswersRequest:function(){null!=document.getElementById("question")&&i.sendAjaxRequest("get",s.getAnswersURL(),{},h)}}},function(t,e,n){var i=n(0),o=n(1),r=n(10),s=n(5),a=n(7),c=n(3);function u(t,e){r.getCommentsDropDown(t).classList.contains("show")?r.toggleShowMsg(t,!0):i.sendAjaxRequest("get",e,{},function(e){!function(t,e){if(200==t.status){var n=JSON.parse(t.responseText);r.createComments(n,e);var i=!0,s=!1,c=void 0;try{for(var u,h=n.comments[Symbol.iterator]();!(i=(u=h.next()).done);i=!0){var p=u.value;a.enableEditMode(p.id),l(p.id),d(p.id)}}catch(t){s=!0,c=t}finally{try{!i&&h.return&&h.return()}finally{if(s)throw c}}}else o.displayError("Failed to retrieve the requested Comments")}(e.target,t)})}function l(t){var e=document.querySelectorAll(".vote[data-message_id='"+t+"']");if(null!=e&&0!=e.length){var n=e[0].parentElement.querySelectorAll(".score");c.voteEvent(e,n)}}function d(t){var e=document.querySelectorAll(".report[data-message_id='"+t+"']");null!=e&&0!=e.length&&c.reportEvent(e)}t.exports={viewAnswerComments:function(t){u(t,s.getAnswerCommentsURL(t))},viewQuestionComments:function(t){u(t,s.getQuestionCommentsURL())}}},function(t,e,n){var i=n(0),o=n(1),r=n(10),s=n(5),a=n(7);t.exports={addCommentRequest:function(t){var e=".new-comment-content[data-message-id='"+t+"']",n=document.querySelector(e);if(null!=n&&""!=n.value){var c={content:n.value,commentable:t};i.sendAjaxRequest("post",s.getAnswerCommentsURL(t),c,function(e){!function(t,e){if(403!=t.status)if(200==t.status){var n=JSON.parse(t.responseText),i=n.comment,s=r.getCommentsDropDown(e).firstElementChild;s.classList.contains("comment-creator")?r.createComments({comments:[i],is_authenticated:n.is_authenticated},e):s.firstElementChild.firstElementChild.appendChild(r.createCommentHTML(n)),a.enableEditMode(i.id);var c=".new-comment-content[data-message-id='"+e+"']";document.querySelector(c).value=""}else o.displayError("Failed to add a new Comment.");else o.displayError("You have no permission to execute this action.")}(e.target,t)})}}}},function(t,e,n){var i=n(0),o=n(1),r=n(5);t.exports={removeComment:function(t){var e=document.getElementById("delete-comment");if(null!=e){var n=t.getAttribute("data-message-id");if(null!=n){var s=t.parentNode.parentNode.parentNode,a=s.parentNode.parentNode.parentNode.parentNode.parentNode.getAttribute("data-message-id"),c=function(){!function(t,e,n){var s={comment:t,commentable:e};i.sendAjaxRequest("delete",r.getUniqueAnswerCommentURL(e,t),s,function(t){!function(t,e){if(403!=t.status)if(200==t.status){var n=e.parentNode;if(null==e.nextElementSibling&&null==e.previousElementSibling){var i=n.parentNode.parentNode;i.parentNode.removeChild(i)}else n.removeChild(e)}else o.displayError("Failed to delete the comment");else o.displayError("You have no permission to delete this comment")}(t.target,n)})}(n,a,s.parentNode)};e.addEventListener("click",c),$("#deleteCommentModal").on("hide.bs.modal",function(t){e.removeEventListener("click",c)})}}}}},function(t,e){t.exports={sortAnswers:function(){var t=document.querySelector("#answers-container"),e=t.querySelectorAll(".answer"),n=Array.from(e);n=n.sort(function(t,e){var n=t.classList.contains("border-success"),i=e.classList.contains("border-success");return n||i?n<i:parseInt(t.querySelector(".score").innerHTML)<parseInt(e.querySelector(".score").innerHTML)});for(var i="",o=0;o<n.length;++o)i+=n[o].outerHTML;t.innerHTML=i}}},function(t,e,n){var i=n(0),o=n(1),r=n(4);t.exports={editAnswer:function(t){var e=document.getElementById("edit-answer");if(null!=e){var n=t.getAttribute("data-message-id");if(null!=n){var s=document.querySelector(".answer-content[data-message-id='"+n+"']");if(null!=s){var a=s.children[0];if(a.classList.contains("answer-hidden-markdown")){var c=$("#edit-editor").data("mde");c.value(a.innerHTML);var u=function(){var t,e,a,u;t=n,e=s.parentElement,a=c.value(),u={answer:t,content:a},i.sendAjaxRequest("put",r.getAnswerIdURL(t),u,function(t){!function(t,e,n){if(403!=t.status)if(200==t.status){for(var i=n.children,r=1;!i[r].classList.contains("badge")&&r<i.length-1;++r)n.removeChild(i[r]),r--;var s=JSON.parse(t.responseText).answer.content.version;i[0].children[0].innerHTML=s;var a=document.createElement("p");a.innerHTML=function(t){var e=new Object;return e.options={renderingConfig:{codeSyntaxHighlighting:!0}},SimpleMDE.prototype.markdown.bind(e,decodeHTML(t))()}(s),n.insertBefore(a,i[2])}else o.displayError("Failed to edit the answer");else o.displayError("You have no permission to edit this answer")}(t.target,0,e)})};e.addEventListener("click",u),$("#editAnswerModal").on("hide.bs.modal",function(t){e.removeEventListener("click",u)})}else o.displayError("Failed to get Answer markdown")}}}}}},function(t,e,n){var i=n(0),o=n(1),r=n(4);t.exports={removeAnswer:function(t){var e=document.getElementById("delete-answer");if(null!=e){var n=t.getAttribute("data-message-id");if(null!=n){var s=function(){var t,e;e={answer:t=n},i.sendAjaxRequest("delete",r.getAnswerIdURL(t),e,function(e){!function(t,e){if(403!=t.status)if(200==t.status){var n=document.getElementById("answer-"+e);null!=n&&n.parentNode.removeChild(n)}else o.displayError("Failed to delete the answer");else o.displayError("You have no permission to delete this answer")}(e.target,t)})};e.addEventListener("click",s),$("#deleteAnswerModal").on("hide.bs.modal",function(t){e.removeEventListener("click",s)})}}}}},function(t,e,n){var i=n(0),o=n(1),r=n(9),s=n(4),a=n(6);t.exports={addAnswerRequest:function(t){var e=document.querySelector(".new-answer-content");if(null!=e&&""!=e.value.trim()){var n={content:e.value,question:t};i.sendAjaxRequest("post",s.getAnswersURL(),n,function(t){!function(t){if(403!=t.status)if(200==t.status){var e=JSON.parse(t.responseText);r.createAnswer({answer:e.answer,is_authenticated:e.is_authenticated});var n=e.answer.id;a.addEventListeners(),r.jumpToElement("answer-"+n),$("#editor").data("mde").value("")}else o.displayError("Failed to add a new Answer.");else o.displayError("You have no permission to execute this action.")}(t.target)})}}}},function(t,e){!function(){var t=document.getElementById("tag_search");if(null!=t){var e=document.querySelectorAll(".tagcloud ul li a");t.addEventListener("input",function(){for(var n=new RegExp(t.value,"i"),i=0;i<e.length;i++)n.test(e[i].innerHTML)?e[i].parentElement.style.display="inline-block":e[i].parentElement.style.display="none"})}}()},function(t,e,n){var i,o=n(0),r=n(1);null!=(i=document.getElementById("update_password"))&&i.addEventListener("click",function(){var t=document.getElementById("old_password").value,e=document.getElementById("new_password").value,n=document.getElementById("repeat_new_password").value;e==n?o.sendAjaxRequest("POST","/users/settings/change_password",{old_password:t,new_password:e,new_password_confirmation:n},function(){200==this.status?r.addTimedSuccess("Password changed!"):r.addTimedError(this.responseText)}):r.addTimedError("The new passwords don't match.")})},function(t,e,n){var i=n(0),o=n(2);if(null!=window.location.pathname.match(/questions\/\D|questions(?!\/)/)){var r=function(t,e){if(null==l)return null;defaultHandler=function(e){$("div.loader-ellips").removeClass("show");var n=$("template#questions")[0],i=null;try{i=JSON.parse(e.target.responseText)}catch(t){}var r=o.render(n.innerHTML,i);0==t?(0==s[a[l]]&&s[a[l]]++,$("div#"+l)[0].innerHTML=r):$("div#"+l)[0].innerHTML+=r,0!=i.questions.length&&(u=!1)},null==e&&(e=defaultHandler),$("div.loader-ellips").addClass("show"),"nav-search"==l?i.sendAjaxRequest("GET",h+"&page="+t,null,e):i.sendAjaxRequest("GET",h+"?page="+t,null,e)},s=[0,0,0,0,0],a={"nav-new":0,"nav-hot":1,"nav-voted":2,"nav-active":3,"nav-search":4},c=["/getRecentQuestions","/getHotQuestions","/getHighlyVotedQuestions","/getActiveQuestions","/questions/search"],u=!1,l=$("div.tab-pane.active.show")[0];if(null!=l&&(l=l.id),"nav-search"==l){var d=window.location.search;c[a[l]]+=d}var h=c[a[l]];i.sendAjaxRequest("GET","/min-profile",null,function(t){var e=$("template#minProfile")[0],n=null;if(null!=e){try{n=JSON.parse(t.target.responseText)}catch(t){}var i=o.render(e.innerHTML,n);e.parentElement.children[0].outerHTML=i,e.parentElement.removeChild(e)}}),s[a[l]]++,r(s[a[l]],function(t){var e=$("template#questions")[0],n=null;try{n=JSON.parse(t.target.responseText)}catch(t){}var i=o.render(e.innerHTML,n),r=$("div#"+l)[0].innerHTML;$("div#nav-new")[0].innerHTML=r,$("div#nav-hot")[0].innerHTML=r,$("div#nav-voted")[0].innerHTML=r,$("div#nav-active")[0].innerHTML=r,$("div#"+l)[0].innerHTML=i}),$("a#nav-new-tab")[0].addEventListener("click",function(){window.history.pushState("","","/questions/recent"),"nav-new"!=l&&(h=c[a[l="nav-new"]],0==s[0]&&r(0))}),$("a#nav-hot-tab")[0].addEventListener("click",function(){window.history.pushState("","","/questions/hot"),"nav-hot"!=l&&(h=c[a[l="nav-hot"]],0==s[1]&&r(0))}),$("a#nav-voted-tab")[0].addEventListener("click",function(){window.history.pushState("","","/questions/highly-voted"),"nav-voted"!=l&&(h=c[a[l="nav-voted"]],0==s[2]&&r(0))}),$("a#nav-active-tab")[0].addEventListener("click",function(){window.history.pushState("","","/questions/active"),"nav-active"!=l&&(h=c[a[l="nav-active"]],0==s[3]&&r(0))});var p=void 0;$("button#search-button-nav")[0].addEventListener("click",function(t){t.preventDefault();var e=$("input#search-input-nav").val();p!=(h="/questions/search?search="+e)&&($("a.nav-item.nav-link.active").removeClass("active").removeClass("show"),$("div.tab-pane.active.show").removeClass("active").removeClass("show"),$("div#nav-search").addClass("active").addClass("show"),l="nav-search",p=h,window.history.pushState("","","/questions?search="+e),s[4]=0,r(0))}),$("input#search-input-nav").on("change paste keyup",function(t){t.preventDefault();var e=$("input#search-input-nav").val();p!=(h="/questions/search?search="+e)&&($("a.nav-item.nav-link.active").removeClass("active").removeClass("show"),$("div.tab-pane.active.show").removeClass("active").removeClass("show"),$("div#nav-search").addClass("active").addClass("show"),l="nav-search",p=h,window.history.pushState("","","/questions?search="+e),s[4]=0,r(0))}),$(window).scroll(function(){u||$(window).scrollTop()+$(window).height()>$(document).height()-100&&(u=!0,s[a[l]]++,r(s[a[l]]))})}else if(null!=window.location.pathname.match(/questions\/\d/)){var f=$("div#categories")[0].children,v="",m=!0,y=!1,g=void 0;try{for(var w,b=f[Symbol.iterator]();!(m=(w=b.next()).done);m=!0){v+="["+w.value.innerHTML+"]"}}catch(t){y=!0,g=t}finally{try{!m&&b.return&&b.return()}finally{if(y)throw g}}i.sendAjaxRequest("GET","/questions/search?num_per_page=3&operator=or&search="+v,null,function(t){var e=$("template#related")[0],n=null;if(null!=e){try{n=JSON.parse(t.target.responseText)}catch(t){}var i=o.render(e.innerHTML,n);e.parentElement.innerHTML=i}})}if(null!=window.location.pathname.match(/users\/[^\/]*(?!\/)$|users\/[^\/]*\/$/)){var k=function(t,e){if(null==O)return null;defaultHandler=function(t){$("div.loader-ellips").removeClass("show");var e=T[S[O]],n=document.querySelector(e),i=null;try{i=JSON.parse(t.target.responseText)}catch(t){}document.querySelector(C[S[O]]).classList.contains("template-for-fill")&&(document.querySelector(C[S[O]]).classList.remove("template-for-fill"),document.querySelector(C[S[O]]).innerHTML=i.total);var r=o.render(n.innerHTML,i);document.querySelector(C[S[O]]).innerHTML>5*_[S[O]]&&(x=!1),0==_[S[O]]?(_[S[O]]++,$("div#"+O)[0].innerHTML=r):$("div#"+O)[0].innerHTML+=r},null==e&&(e=defaultHandler),$("div.loader-ellips").addClass("show"),i.sendAjaxRequest("GET","/users/"+$("h2#username")[0].innerHTML+L+"?page="+t,null,e)},_=[0,0,0],S={"nav-questions":0,"nav-answers":1,"nav-comments":2},T=["template#questions","template#answers","template#comments"],C=["#total-questions","#total-answers","#total-comments"],E=["/getQuestions","/getAnswers","/getComments"],x=!1,O=$("div.tab-pane.active.show")[0];null!=O&&(O=O.id);var L=E[S[O]];k(_[S[O]]),$("a#nav-questions-tab")[0].addEventListener("click",function(){"nav-questions"!=O&&(L=E[S[O="nav-questions"]],0==_[0]&&k(0))}),$("a#nav-answers-tab")[0].addEventListener("click",function(){"nav-answers"!=O&&(L=E[S[O="nav-answers"]],0==_[1]&&k(0))}),$("a#nav-comments-tab")[0].addEventListener("click",function(){"nav-comments"!=O&&(L=E[S[O="nav-comments"]],0==_[2]&&k(0))}),$(window).scroll(function(){x||$(window).scrollTop()+$(window).height()>$(document).height()-100&&(x=!0,_[S[O]]++,k(_[S[O]]))})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(34),o=n.n(i);window.Pusher=n(33);var r=n(0);window.Pusher.logToConsole=!0,window.Echo=new o.a({broadcaster:"pusher",key:"***REMOVED***",cluster:"eu",encrypted:!1});var s=[],a={newAnswer:"App\\Notifications\\NewAnswer",newComment:"App\\Notifications\\NewComment",newBadgeAttainment:"App\\Notifications\\NewBadgeAttainment"};function c(t){(s=s.concat(t)).slice(0,5),function(t){if(t.length>0){var e=t.map(function(t){return function(t){var e=function(t){var e="?read="+t.id;switch(t.type){case a.newAnswer:case a.newComment:e="questions/"+t.data.question_id+e;break;case a.newBadgeAttainment:e="users/"+t.following_name+e}return"/"+e}(t),n=function(t){var e="",n=t.data.following_name;t.type===a.newAnswer?(e+="<strong>"+n+"</strong> answered ",t.data.is_author?e+="your question.":e+="a question you bookmarked."):t.type===a.newComment?(e+="<strong>"+n+"</strong> commented ",t.data.is_author?e+="on your message.":e+="on a discussion you're participating in."):t.type===a.newBadgeAttainment&&(e+="You got a new <strong>"+t.badge_type+"</strong> badge!");return e}(t);return'<div><a href="'+e+'">'+n+"</a></div>"}(t)});document.querySelector("#notificationsMenu").innerHTML=e.join(""),document.querySelector("#unread-notification").classList.add("show")}}(s)}document.addEventListener("DOMContentLoaded",function(){Laravel.userId&&(window.Echo.private("App.User."+window.Laravel.userId).notification(function(t){c([t])}),r.sendAjaxRequest("GET","/api/notifications",null,function(t){return c(JSON.parse(t.target.responseText))}))})},function(t,e,n){var i;i=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){"use strict";var i=n(1);t.exports=i.default},function(t,e,n){"use strict";var i=n(2),o=n(9),r=n(24),s=n(39),a=n(40),c=n(41),u=n(12),l=n(5),d=n(63),h=n(8),p=n(43),f=n(14),v=function(){function t(e,n){var u=this;if(function(t){if(null===t||void 0===t)throw"You must pass your app key when you instantiate Pusher."}(e),!(n=n||{}).cluster&&!n.wsHost&&!n.httpHost){var v=f.default.buildLogSuffix("javascriptQuickStart");h.default.warn("You should always specify a cluster when connecting. "+v)}this.key=e,this.config=o.extend(d.getGlobalConfig(),n.cluster?d.getClusterConfig(n.cluster):{},n),this.channels=p.default.createChannels(),this.global_emitter=new r.default,this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new s.default(this.key,this.sessionID,{cluster:this.config.cluster,features:t.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:a.default.INFO,version:l.default.VERSION}),this.config.disableStats||(this.timelineSender=p.default.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+i.default.TimelineTransport.name}));this.connection=p.default.createConnectionManager(this.key,o.extend({getStrategy:function(t){var e=o.extend({},u.config,t);return c.build(i.default.getDefaultStrategy(e),e)},timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},this.config,{encrypted:this.isEncrypted()})),this.connection.bind("connected",function(){u.subscribeAll(),u.timelineSender&&u.timelineSender.send(u.connection.isEncrypted())}),this.connection.bind("message",function(t){var e=0===t.event.indexOf("pusher_internal:");if(t.channel){var n=u.channel(t.channel);n&&n.handleEvent(t.event,t.data)}e||u.global_emitter.emit(t.event,t.data)}),this.connection.bind("connecting",function(){u.channels.disconnect()}),this.connection.bind("disconnected",function(){u.channels.disconnect()}),this.connection.bind("error",function(t){h.default.warn("Error",t)}),t.instances.push(this),this.timeline.info({instances:t.instances.length}),t.isReady&&this.connect()}return t.ready=function(){t.isReady=!0;for(var e=0,n=t.instances.length;e<n;e++)t.instances[e].connect()},t.log=function(e){t.logToConsole&&window.console&&window.console.log&&window.console.log(e)},t.getClientFeatures=function(){return o.keys(o.filterObject({ws:i.default.Transports.ws},function(t){return t.isSupported({})}))},t.prototype.channel=function(t){return this.channels.find(t)},t.prototype.allChannels=function(){return this.channels.all()},t.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var t=this.connection.isEncrypted(),e=this.timelineSender;this.timelineSenderTimer=new u.PeriodicTimer(6e4,function(){e.send(t)})}},t.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},t.prototype.bind=function(t,e,n){return this.global_emitter.bind(t,e,n),this},t.prototype.unbind=function(t,e,n){return this.global_emitter.unbind(t,e,n),this},t.prototype.bind_global=function(t){return this.global_emitter.bind_global(t),this},t.prototype.unbind_global=function(t){return this.global_emitter.unbind_global(t),this},t.prototype.unbind_all=function(t){return this.global_emitter.unbind_all(),this},t.prototype.subscribeAll=function(){var t;for(t in this.channels.channels)this.channels.channels.hasOwnProperty(t)&&this.subscribe(t)},t.prototype.subscribe=function(t){var e=this.channels.add(t,this);return e.subscriptionPending&&e.subscriptionCancelled?e.reinstateSubscription():e.subscriptionPending||"connected"!==this.connection.state||e.subscribe(),e},t.prototype.unsubscribe=function(t){var e=this.channels.find(t);e&&e.subscriptionPending?e.cancelSubscription():(e=this.channels.remove(t))&&"connected"===this.connection.state&&e.unsubscribe()},t.prototype.send_event=function(t,e,n){return this.connection.send_event(t,e,n)},t.prototype.isEncrypted=function(){return"https:"===i.default.getProtocol()||Boolean(this.config.encrypted)},t.instances=[],t.isReady=!1,t.logToConsole=!1,t.Runtime=i.default,t.ScriptReceivers=i.default.ScriptReceivers,t.DependenciesReceivers=i.default.DependenciesReceivers,t.auth_callbacks=i.default.auth_callbacks,t}();e.__esModule=!0,e.default=v,i.default.setup(v)},function(t,e,n){"use strict";var i=n(3),o=n(7),r=n(15),s=n(16),a=n(17),c=n(4),u=n(18),l=n(19),d=n(26),h=n(27),p=n(28),f=n(29),v={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:c.ScriptReceivers,DependenciesReceivers:i.DependenciesReceivers,getDefaultStrategy:h.default,Transports:l.default,transportConnectionInitializer:p.default,HTTPFactory:f.default,TimelineTransport:u.default,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(t){var e=this;window.Pusher=t;var n=function(){e.onDocumentBody(t.ready)};window.JSON?n():i.Dependencies.load("json2",{},n)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:o.default,jsonp:r.default}},onDocumentBody:function(t){var e=this;document.body?t():setTimeout(function(){e.onDocumentBody(t)},0)},createJSONPRequest:function(t,e){return new a.default(t,e)},createScriptRequest:function(t){return new s.default(t)},getLocalStorage:function(){try{return window.localStorage}catch(t){return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){return new(this.getXHRAPI())},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return d.Network},createWebSocket:function(t){return new(this.getWebSocketAPI())(t)},createSocketRequest:function(t,e){if(this.isXHRSupported())return this.HTTPFactory.createXHR(t,e);if(this.isXDRSupported(0===e.indexOf("https:")))return this.HTTPFactory.createXDR(t,e);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var t=this.getXHRAPI();return Boolean(t)&&void 0!==(new t).withCredentials},isXDRSupported:function(t){var e=t?"https:":"http:",n=this.getProtocol();return Boolean(window.XDomainRequest)&&n===e},addUnloadListener:function(t){void 0!==window.addEventListener?window.addEventListener("unload",t,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",t)},removeUnloadListener:function(t){void 0!==window.addEventListener?window.removeEventListener("unload",t,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",t)}};e.__esModule=!0,e.default=v},function(t,e,n){"use strict";var i=n(4),o=n(5),r=n(6);e.DependenciesReceivers=new i.ScriptReceiverFactory("_pusher_dependencies","Pusher.DependenciesReceivers"),e.Dependencies=new r.default({cdn_http:o.default.cdn_http,cdn_https:o.default.cdn_https,version:o.default.VERSION,suffix:o.default.dependency_suffix,receivers:e.DependenciesReceivers})},function(t,e){"use strict";var n=function(){function t(t,e){this.lastId=0,this.prefix=t,this.name=e}return t.prototype.create=function(t){this.lastId++;var e=this.lastId,n=this.prefix+e,i=this.name+"["+e+"]",o=!1,r=function(){o||(t.apply(null,arguments),o=!0)};return this[e]=r,{number:e,id:n,name:i,callback:r}},t.prototype.remove=function(t){delete this[t.number]},t}();e.ScriptReceiverFactory=n,e.ScriptReceivers=new n("_pusher_script_","Pusher.ScriptReceivers")},function(t,e){"use strict";e.__esModule=!0,e.default={VERSION:"4.2.2",PROTOCOL:7,host:"ws.pusherapp.com",ws_port:80,wss_port:443,ws_path:"",sockjs_host:"sockjs.pusher.com",sockjs_http_port:80,sockjs_https_port:443,sockjs_path:"/pusher",stats_host:"stats.pusher.com",channel_auth_endpoint:"/pusher/auth",channel_auth_transport:"ajax",activity_timeout:12e4,pong_timeout:3e4,unavailable_timeout:1e4,cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""}},function(t,e,n){"use strict";var i=n(4),o=n(2),r=function(){function t(t){this.options=t,this.receivers=t.receivers||i.ScriptReceivers,this.loading={}}return t.prototype.load=function(t,e,n){var i=this;if(i.loading[t]&&i.loading[t].length>0)i.loading[t].push(n);else{i.loading[t]=[n];var r=o.default.createScriptRequest(i.getPath(t,e)),s=i.receivers.create(function(e){if(i.receivers.remove(s),i.loading[t]){var n=i.loading[t];delete i.loading[t];for(var o=function(t){t||r.cleanup()},a=0;a<n.length;a++)n[a](e,o)}});r.send(s)}},t.prototype.getRoot=function(t){var e=o.default.getDocument().location.protocol;return(t&&t.encrypted||"https:"===e?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version},t.prototype.getPath=function(t,e){return this.getRoot(e)+"/"+t+this.options.suffix+".js"},t}();e.__esModule=!0,e.default=r},function(t,e,n){"use strict";var i=n(8),o=n(2),r=n(14);e.__esModule=!0,e.default=function(t,e,n){var s;for(var a in(s=o.default.createXHR()).open("POST",this.options.authEndpoint,!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.authOptions.headers)s.setRequestHeader(a,this.authOptions.headers[a]);return s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status){var t,e=!1;try{t=JSON.parse(s.responseText),e=!0}catch(t){n(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+s.responseText)}e&&n(!1,t)}else{var o=r.default.buildLogSuffix("authenticationEndpoint");i.default.warn("Couldn't retrieve authentication info. "+s.status+"Clients must be authenticated to join private or presence channels. "+o),n(!0,s.status)}},s.send(this.composeQuery(e)),s}},function(t,e,n){"use strict";var i=n(9),o=n(1),r={debug:function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];o.default.log&&o.default.log(i.stringify.apply(this,arguments))},warn:function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=i.stringify.apply(this,arguments);o.default.log?o.default.log(n):window.console&&(window.console.warn?window.console.warn(n):window.console.log&&window.console.log(n))}};e.__esModule=!0,e.default=r},function(t,e,n){"use strict";var i=n(10),o=n(11);function r(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(t[n],n,t)}function s(t,e){for(var n=[],i=0;i<t.length;i++)n.push(e(t[i],i,t,n));return n}function a(t,e){var n={};return r(t,function(t,i){n[i]=e(t)}),n}function c(t,e){var n={};return r(t,function(i,o){(e&&e(i,o,t,n)||Boolean(i))&&(n[o]=i)}),n}function u(t){var e=[];return r(t,function(t,n){e.push([n,t])}),e}function l(t){return a(t,function(t){return"object"==typeof t&&(t=h(t)),encodeURIComponent(i.default(t.toString()))})}function d(t){var e=[],n=[];return function t(i,o){var r,s,a;switch(typeof i){case"object":if(!i)return null;for(r=0;r<e.length;r+=1)if(e[r]===i)return{$ref:n[r]};if(e.push(i),n.push(o),"[object Array]"===Object.prototype.toString.apply(i))for(a=[],r=0;r<i.length;r+=1)a[r]=t(i[r],o+"["+r+"]");else for(s in a={},i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=t(i[s],o+"["+JSON.stringify(s)+"]"));return a;case"number":case"string":case"boolean":return i}}(t,"$")}function h(t){try{return JSON.stringify(t)}catch(e){return JSON.stringify(d(t))}}e.extend=function t(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];for(var o=0;o<n.length;o++){var r=n[o];for(var s in r)r[s]&&r[s].constructor&&r[s].constructor===Object?e[s]=t(e[s]||{},r[s]):e[s]=r[s]}return e},e.stringify=function(){for(var t=["Pusher"],e=0;e<arguments.length;e++)"string"==typeof arguments[e]?t.push(arguments[e]):t.push(h(arguments[e]));return t.join(" : ")},e.arrayIndexOf=function(t,e){var n=Array.prototype.indexOf;if(null===t)return-1;if(n&&t.indexOf===n)return t.indexOf(e);for(var i=0,o=t.length;i<o;i++)if(t[i]===e)return i;return-1},e.objectApply=r,e.keys=function(t){var e=[];return r(t,function(t,n){e.push(n)}),e},e.values=function(t){var e=[];return r(t,function(t){e.push(t)}),e},e.apply=function(t,e,n){for(var i=0;i<t.length;i++)e.call(n||window,t[i],i,t)},e.map=s,e.mapObject=a,e.filter=function(t,e){e=e||function(t){return!!t};for(var n=[],i=0;i<t.length;i++)e(t[i],i,t,n)&&n.push(t[i]);return n},e.filterObject=c,e.flatten=u,e.any=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1},e.all=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0},e.encodeParamsObject=l,e.buildQueryString=function(t){return s(u(l(c(t,function(t){return void 0!==t}))),o.default.method("join","=")).join("&")},e.decycleObject=d,e.safeJSONStringify=h},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){return d(u(t))};for(var i=String.fromCharCode,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={},s=0,a=o.length;s<a;s++)r[o.charAt(s)]=s;var c=function(t){var e=t.charCodeAt(0);return e<128?t:e<2048?i(192|e>>>6)+i(128|63&e):i(224|e>>>12&15)+i(128|e>>>6&63)+i(128|63&e)},u=function(t){return t.replace(/[^\x00-\x7F]/g,c)},l=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[o.charAt(n>>>18),o.charAt(n>>>12&63),e>=2?"=":o.charAt(n>>>6&63),e>=1?"=":o.charAt(63&n)].join("")},d=window.btoa||function(t){return t.replace(/[\s\S]{1,3}/g,l)}},function(t,e,n){"use strict";var i=n(12),o={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(t){return new i.OneOffTimer(0,t)},method:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1);return function(e){return e[t].apply(e,i.concat(arguments))}}};e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=n(13);function r(t){window.clearTimeout(t)}function s(t){window.clearInterval(t)}var a=function(t){function e(e,n){t.call(this,setTimeout,r,e,function(t){return n(),null})}return i(e,t),e}(o.default);e.OneOffTimer=a;var c=function(t){function e(e,n){t.call(this,setInterval,s,e,function(t){return n(),t})}return i(e,t),e}(o.default);e.PeriodicTimer=c},function(t,e){"use strict";var n=function(){function t(t,e,n,i){var o=this;this.clear=e,this.timer=t(function(){o.timer&&(o.timer=i(o.timer))},n)}return t.prototype.isRunning=function(){return null!==this.timer},t.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},t}();e.__esModule=!0,e.default=n},function(t,e){"use strict";var n={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/authenticating_users"},javascriptQuickStart:{path:"/docs/javascript_quick_start"}}};e.__esModule=!0,e.default={buildLogSuffix:function(t){var e,i=n.urls[t];return i?(i.fullUrl?e=i.fullUrl:i.path&&(e=n.baseUrl+i.path),e?"See: "+e:""):""}}},function(t,e,n){"use strict";var i=n(8);e.__esModule=!0,e.default=function(t,e,n){void 0!==this.authOptions.headers&&i.default.warn("Warn","To send headers with the auth request, you must use AJAX, rather than JSONP.");var o=t.nextAuthCallbackID.toString();t.nextAuthCallbackID++;var r=t.getDocument(),s=r.createElement("script");t.auth_callbacks[o]=function(t){n(!1,t)};var a="Pusher.auth_callbacks['"+o+"']";s.src=this.options.authEndpoint+"?callback="+encodeURIComponent(a)+"&"+this.composeQuery(e);var c=r.getElementsByTagName("head")[0]||r.documentElement;c.insertBefore(s,c.firstChild)}},function(t,e){"use strict";var n=function(){function t(t){this.src=t}return t.prototype.send=function(t){var e=this,n="Error loading "+e.src;e.script=document.createElement("script"),e.script.id=t.id,e.script.src=e.src,e.script.type="text/javascript",e.script.charset="UTF-8",e.script.addEventListener?(e.script.onerror=function(){t.callback(n)},e.script.onload=function(){t.callback(null)}):e.script.onreadystatechange=function(){"loaded"!==e.script.readyState&&"complete"!==e.script.readyState||t.callback(null)},void 0===e.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(e.errorScript=document.createElement("script"),e.errorScript.id=t.id+"_error",e.errorScript.text=t.name+"('"+n+"');",e.script.async=e.errorScript.async=!1):e.script.async=!0;var i=document.getElementsByTagName("head")[0];i.insertBefore(e.script,i.firstChild),e.errorScript&&i.insertBefore(e.errorScript,e.script.nextSibling)},t.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},t}();e.__esModule=!0,e.default=n},function(t,e,n){"use strict";var i=n(9),o=n(2),r=function(){function t(t,e){this.url=t,this.data=e}return t.prototype.send=function(t){if(!this.request){var e=i.buildQueryString(this.data),n=this.url+"/"+t.number+"?"+e;this.request=o.default.createScriptRequest(n),this.request.send(t)}},t.prototype.cleanup=function(){this.request&&this.request.cleanup()},t}();e.__esModule=!0,e.default=r},function(t,e,n){"use strict";var i=n(2),o=n(4),r={name:"jsonp",getAgent:function(t,e){return function(n,r){var s="http"+(e?"s":"")+"://"+(t.host||t.options.host)+t.options.path,a=i.default.createJSONPRequest(s,n),c=i.default.ScriptReceivers.create(function(e,n){o.ScriptReceivers.remove(c),a.cleanup(),n&&n.host&&(t.host=n.host),r&&r(e,n)});a.send(c)}}};e.__esModule=!0,e.default=r},function(t,e,n){"use strict";var i=n(20),o=n(22),r=n(21),s=n(2),a=n(3),c=n(9),u=new o.default({file:"sockjs",urls:r.sockjs,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(t,e){return new window.SockJS(t,null,{js_path:a.Dependencies.getPath("sockjs",{encrypted:e.encrypted}),ignore_null_origin:e.ignoreNullOrigin})},beforeOpen:function(t,e){t.send(JSON.stringify({path:e}))}}),l={isSupported:function(t){return s.default.isXDRSupported(t.encrypted)}},d=new o.default(c.extend({},i.streamingConfiguration,l)),h=new o.default(c.extend({},i.pollingConfiguration,l));i.default.xdr_streaming=d,i.default.xdr_polling=h,i.default.sockjs=u,e.__esModule=!0,e.default=i.default},function(t,e,n){"use strict";var i=n(21),o=n(22),r=n(9),s=n(2),a=new o.default({urls:i.ws,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(s.default.getWebSocketAPI())},isSupported:function(){return Boolean(s.default.getWebSocketAPI())},getSocket:function(t){return s.default.createWebSocket(t)}}),c={urls:i.http,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}};e.streamingConfiguration=r.extend({getSocket:function(t){return s.default.HTTPFactory.createStreamingSocket(t)}},c),e.pollingConfiguration=r.extend({getSocket:function(t){return s.default.HTTPFactory.createPollingSocket(t)}},c);var u={isSupported:function(){return s.default.isXHRSupported()}},l={ws:a,xhr_streaming:new o.default(r.extend({},e.streamingConfiguration,u)),xhr_polling:new o.default(r.extend({},e.pollingConfiguration,u))};e.__esModule=!0,e.default=l},function(t,e,n){"use strict";var i=n(5);function o(t,e,n){return t+(e.encrypted?"s":"")+"://"+(e.encrypted?e.hostEncrypted:e.hostUnencrypted)+n}function r(t,e){return"/app/"+t+("?protocol="+i.default.PROTOCOL+"&client=js&version="+i.default.VERSION+(e?"&"+e:""))}e.ws={getInitial:function(t,e){return o("ws",e,(e.httpPath||"")+r(t,"flash=false"))}},e.http={getInitial:function(t,e){return o("http",e,(e.httpPath||"/pusher")+r(t))}},e.sockjs={getInitial:function(t,e){return o("http",e,e.httpPath||"/pusher")},getPath:function(t,e){return r(t)}}},function(t,e,n){"use strict";var i=n(23),o=function(){function t(t){this.hooks=t}return t.prototype.isSupported=function(t){return this.hooks.isSupported(t)},t.prototype.createConnection=function(t,e,n,o){return new i.default(this.hooks,t,e,n,o)},t}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=n(11),r=n(9),s=n(24),a=n(8),c=n(2),u=function(t){function e(e,n,i,o,r){t.call(this),this.initialize=c.default.transportConnectionInitializer,this.hooks=e,this.name=n,this.priority=i,this.key=o,this.options=r,this.state="new",this.timeline=r.timeline,this.activityTimeout=r.activityTimeout,this.id=this.timeline.generateUniqueID()}return i(e,t),e.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},e.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},e.prototype.connect=function(){var t=this;if(this.socket||"initialized"!==this.state)return!1;var e=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(e,this.options)}catch(e){return o.default.defer(function(){t.onError(e),t.changeState("closed")}),!1}return this.bindListeners(),a.default.debug("Connecting",{transport:this.name,url:e}),this.changeState("connecting"),!0},e.prototype.close=function(){return!!this.socket&&(this.socket.close(),!0)},e.prototype.send=function(t){var e=this;return"open"===this.state&&(o.default.defer(function(){e.socket&&e.socket.send(t)}),!0)},e.prototype.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},e.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},e.prototype.onError=function(t){this.emit("error",{type:"WebSocketError",error:t}),this.timeline.error(this.buildTimelineMessage({error:t.toString()}))},e.prototype.onClose=function(t){t?this.changeState("closed",{code:t.code,reason:t.reason,wasClean:t.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},e.prototype.onMessage=function(t){this.emit("message",t)},e.prototype.onActivity=function(){this.emit("activity")},e.prototype.bindListeners=function(){var t=this;this.socket.onopen=function(){t.onOpen()},this.socket.onerror=function(e){t.onError(e)},this.socket.onclose=function(e){t.onClose(e)},this.socket.onmessage=function(e){t.onMessage(e)},this.supportsPing()&&(this.socket.onactivity=function(){t.onActivity()})},e.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},e.prototype.changeState=function(t,e){this.state=t,this.timeline.info(this.buildTimelineMessage({state:t,params:e})),this.emit(t,e)},e.prototype.buildTimelineMessage=function(t){return r.extend({cid:this.id},t)},e}(s.default);e.__esModule=!0,e.default=u},function(t,e,n){"use strict";var i=n(9),o=n(25),r=function(){function t(t){this.callbacks=new o.default,this.global_callbacks=[],this.failThrough=t}return t.prototype.bind=function(t,e,n){return this.callbacks.add(t,e,n),this},t.prototype.bind_global=function(t){return this.global_callbacks.push(t),this},t.prototype.unbind=function(t,e,n){return this.callbacks.remove(t,e,n),this},t.prototype.unbind_global=function(t){return t?(this.global_callbacks=i.filter(this.global_callbacks||[],function(e){return e!==t}),this):(this.global_callbacks=[],this)},t.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},t.prototype.emit=function(t,e){var n;for(n=0;n<this.global_callbacks.length;n++)this.global_callbacks[n](t,e);var i=this.callbacks.get(t);if(i&&i.length>0)for(n=0;n<i.length;n++)i[n].fn.call(i[n].context||window,e);else this.failThrough&&this.failThrough(t,e);return this},t}();e.__esModule=!0,e.default=r},function(t,e,n){"use strict";var i=n(9),o=function(){function t(){this._callbacks={}}return t.prototype.get=function(t){return this._callbacks[r(t)]},t.prototype.add=function(t,e,n){var i=r(t);this._callbacks[i]=this._callbacks[i]||[],this._callbacks[i].push({fn:e,context:n})},t.prototype.remove=function(t,e,n){if(t||e||n){var o=t?[r(t)]:i.keys(this._callbacks);e||n?this.removeCallback(o,e,n):this.removeAllCallbacks(o)}else this._callbacks={}},t.prototype.removeCallback=function(t,e,n){i.apply(t,function(t){this._callbacks[t]=i.filter(this._callbacks[t]||[],function(t){return e&&e!==t.fn||n&&n!==t.context}),0===this._callbacks[t].length&&delete this._callbacks[t]},this)},t.prototype.removeAllCallbacks=function(t){i.apply(t,function(t){delete this._callbacks[t]},this)},t}();function r(t){return"_"+t}e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=function(t){function e(){t.call(this);var e=this;void 0!==window.addEventListener&&(window.addEventListener("online",function(){e.emit("online")},!1),window.addEventListener("offline",function(){e.emit("offline")},!1))}return i(e,t),e.prototype.isOnline=function(){return void 0===window.navigator.onLine||window.navigator.onLine},e}(n(24).default);e.NetInfo=o,e.Network=new o},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){var e;return e=t.encrypted?[":best_connected_ever",":ws_loop",[":delayed",2e3,[":http_fallback_loop"]]]:[":best_connected_ever",":ws_loop",[":delayed",2e3,[":wss_loop"]],[":delayed",5e3,[":http_fallback_loop"]]],[[":def","ws_options",{hostUnencrypted:t.wsHost+":"+t.wsPort,hostEncrypted:t.wsHost+":"+t.wssPort,httpPath:t.wsPath}],[":def","wss_options",[":extend",":ws_options",{encrypted:!0}]],[":def","sockjs_options",{hostUnencrypted:t.httpHost+":"+t.httpPort,hostEncrypted:t.httpHost+":"+t.httpsPort,httpPath:t.httpPath}],[":def","timeouts",{loop:!0,timeout:15e3,timeoutLimit:6e4}],[":def","ws_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}]],[":def","streaming_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}]],[":def_transport","ws","ws",3,":ws_options",":ws_manager"],[":def_transport","wss","ws",3,":wss_options",":ws_manager"],[":def_transport","sockjs","sockjs",1,":sockjs_options"],[":def_transport","xhr_streaming","xhr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xdr_streaming","xdr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xhr_polling","xhr_polling",1,":sockjs_options"],[":def_transport","xdr_polling","xdr_polling",1,":sockjs_options"],[":def","ws_loop",[":sequential",":timeouts",":ws"]],[":def","wss_loop",[":sequential",":timeouts",":wss"]],[":def","sockjs_loop",[":sequential",":timeouts",":sockjs"]],[":def","streaming_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_streaming"],":xhr_streaming",":xdr_streaming"]]],[":def","polling_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_polling"],":xhr_polling",":xdr_polling"]]],[":def","http_loop",[":if",[":is_supported",":streaming_loop"],[":best_connected_ever",":streaming_loop",[":delayed",4e3,[":polling_loop"]]],[":polling_loop"]]],[":def","http_fallback_loop",[":if",[":is_supported",":http_loop"],[":http_loop"],[":sockjs_loop"]]],[":def","strategy",[":cached",18e5,[":first_connected",[":if",[":is_supported",":ws"],e,":http_fallback_loop"]]]]]}},function(t,e,n){"use strict";var i=n(3);e.__esModule=!0,e.default=function(){var t=this;t.timeline.info(t.buildTimelineMessage({transport:t.name+(t.options.encrypted?"s":"")})),t.hooks.isInitialized()?t.changeState("initialized"):t.hooks.file?(t.changeState("initializing"),i.Dependencies.load(t.hooks.file,{encrypted:t.options.encrypted},function(e,n){t.hooks.isInitialized()?(t.changeState("initialized"),n(!0)):(e&&t.onError(e),t.onClose(),n(!1))})):t.onClose()}},function(t,e,n){"use strict";var i=n(30),o=n(32);o.default.createXDR=function(t,e){return this.createRequest(i.default,t,e)},e.__esModule=!0,e.default=o.default},function(t,e,n){"use strict";var i=n(31),o={getRequest:function(t){var e=new window.XDomainRequest;return e.ontimeout=function(){t.emit("error",new i.RequestTimedOut),t.close()},e.onerror=function(e){t.emit("error",e),t.close()},e.onprogress=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText)},e.onload=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText),t.emit("finished",200),t.close()},e},abortRequest:function(t){t.ontimeout=t.onerror=t.onprogress=t.onload=null,t.abort()}};e.__esModule=!0,e.default=o},function(t,e){"use strict";var n=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},i=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.BadEventName=i;var o=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.RequestTimedOut=o;var r=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.TransportPriorityTooLow=r;var s=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.TransportClosed=s;var a=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.UnsupportedTransport=a;var c=function(t){function e(){t.apply(this,arguments)}return n(e,t),e}(Error);e.UnsupportedStrategy=c},function(t,e,n){"use strict";var i=n(33),o=n(34),r=n(36),s=n(37),a=n(38),c={createStreamingSocket:function(t){return this.createSocket(r.default,t)},createPollingSocket:function(t){return this.createSocket(s.default,t)},createSocket:function(t,e){return new o.default(t,e)},createXHR:function(t,e){return this.createRequest(a.default,t,e)},createRequest:function(t,e,n){return new i.default(t,e,n)}};e.__esModule=!0,e.default=c},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=n(2),r=function(t){function e(e,n,i){t.call(this),this.hooks=e,this.method=n,this.url=i}return i(e,t),e.prototype.start=function(t){var e=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){e.close()},o.default.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(t)},e.prototype.close=function(){this.unloader&&(o.default.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},e.prototype.onChunk=function(t,e){for(;;){var n=this.advanceBuffer(e);if(!n)break;this.emit("chunk",{status:t,data:n})}this.isBufferTooLong(e)&&this.emit("buffer_too_long")},e.prototype.advanceBuffer=function(t){var e=t.slice(this.position),n=e.indexOf("\n");return-1!==n?(this.position+=n+1,e.slice(0,n)):null},e.prototype.isBufferTooLong=function(t){return this.position===t.length&&t.length>262144},e}(n(24).default);e.__esModule=!0,e.default=r},function(t,e,n){"use strict";var i=n(35),o=n(11),r=n(2),s=1,a=function(){function t(t,e){this.hooks=t,this.session=u(1e3)+"/"+function(t){for(var e=[],n=0;n<t;n++)e.push(u(32).toString(32));return e.join("")}(8),this.location=function(t){var e=/([^\?]*)\/*(\??.*)/.exec(t);return{base:e[1],queryString:e[2]}}(e),this.readyState=i.default.CONNECTING,this.openStream()}return t.prototype.send=function(t){return this.sendRaw(JSON.stringify([t]))},t.prototype.ping=function(){this.hooks.sendHeartbeat(this)},t.prototype.close=function(t,e){this.onClose(t,e,!0)},t.prototype.sendRaw=function(t){if(this.readyState!==i.default.OPEN)return!1;try{return r.default.createSocketRequest("POST",c((e=this.location,n=this.session,e.base+"/"+n+"/xhr_send"))).start(t),!0}catch(t){return!1}var e,n},t.prototype.reconnect=function(){this.closeStream(),this.openStream()},t.prototype.onClose=function(t,e,n){this.closeStream(),this.readyState=i.default.CLOSED,this.onclose&&this.onclose({code:t,reason:e,wasClean:n})},t.prototype.onChunk=function(t){var e;if(200===t.status)switch(this.readyState===i.default.OPEN&&this.onActivity(),t.data.slice(0,1)){case"o":e=JSON.parse(t.data.slice(1)||"{}"),this.onOpen(e);break;case"a":e=JSON.parse(t.data.slice(1)||"[]");for(var n=0;n<e.length;n++)this.onEvent(e[n]);break;case"m":e=JSON.parse(t.data.slice(1)||"null"),this.onEvent(e);break;case"h":this.hooks.onHeartbeat(this);break;case"c":e=JSON.parse(t.data.slice(1)||"[]"),this.onClose(e[0],e[1],!0)}},t.prototype.onOpen=function(t){var e,n,o;this.readyState===i.default.CONNECTING?(t&&t.hostname&&(this.location.base=(e=this.location.base,n=t.hostname,(o=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(e))[1]+n+o[3])),this.readyState=i.default.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},t.prototype.onEvent=function(t){this.readyState===i.default.OPEN&&this.onmessage&&this.onmessage({data:t})},t.prototype.onActivity=function(){this.onactivity&&this.onactivity()},t.prototype.onError=function(t){this.onerror&&this.onerror(t)},t.prototype.openStream=function(){var t=this;this.stream=r.default.createSocketRequest("POST",c(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",function(e){t.onChunk(e)}),this.stream.bind("finished",function(e){t.hooks.onFinished(t,e)}),this.stream.bind("buffer_too_long",function(){t.reconnect()});try{this.stream.start()}catch(e){o.default.defer(function(){t.onError(e),t.onClose(1006,"Could not start streaming",!1)})}},t.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},t}();function c(t){return t+(-1===t.indexOf("?")?"?":"&")+"t="+ +new Date+"&n="+s++}function u(t){return Math.floor(Math.random()*t)}e.__esModule=!0,e.default=a},function(t,e){"use strict";var n;!function(t){t[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSED=3]="CLOSED"}(n||(n={})),e.__esModule=!0,e.default=n},function(t,e){"use strict";e.__esModule=!0,e.default={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr_streaming"+t.queryString},onHeartbeat:function(t){t.sendRaw("[]")},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){t.onClose(1006,"Connection interrupted ("+e+")",!1)}}},function(t,e){"use strict";e.__esModule=!0,e.default={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr"+t.queryString},onHeartbeat:function(){},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){200===e?t.reconnect():t.onClose(1006,"Connection interrupted ("+e+")",!1)}}},function(t,e,n){"use strict";var i=n(2),o={getRequest:function(t){var e=new(i.default.getXHRAPI());return e.onreadystatechange=e.onprogress=function(){switch(e.readyState){case 3:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText);break;case 4:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText),t.emit("finished",e.status),t.close()}},e},abortRequest:function(t){t.onreadystatechange=null,t.abort()}};e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var i=n(9),o=n(11),r=n(40),s=function(){function t(t,e,n){this.key=t,this.session=e,this.events=[],this.options=n||{},this.sent=0,this.uniqueID=0}return t.prototype.log=function(t,e){t<=this.options.level&&(this.events.push(i.extend({},e,{timestamp:o.default.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},t.prototype.error=function(t){this.log(r.default.ERROR,t)},t.prototype.info=function(t){this.log(r.default.INFO,t)},t.prototype.debug=function(t){this.log(r.default.DEBUG,t)},t.prototype.isEmpty=function(){return 0===this.events.length},t.prototype.send=function(t,e){var n=this,o=i.extend({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],t(o,function(t,i){t||n.sent++,e&&e(t,i)}),!0},t.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},t}();e.__esModule=!0,e.default=s},function(t,e){"use strict";var n;!function(t){t[t.ERROR=3]="ERROR",t[t.INFO=6]="INFO",t[t.DEBUG=7]="DEBUG"}(n||(n={})),e.__esModule=!0,e.default=n},function(t,e,n){"use strict";var i=n(9),o=n(11),r=n(42),s=n(31),a=n(56),c=n(57),u=n(58),l=n(59),d=n(60),h=n(61),p=n(62),f=n(2).default.Transports;e.build=function(t,e){return k(t,i.extend({},y,e))[1].strategy};var v={isSupported:function(){return!1},connect:function(t,e){var n=o.default.defer(function(){e(new s.UnsupportedStrategy)});return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}};function m(t){return function(e){return[t.apply(this,arguments),e]}}var y={extend:function(t,e,n){return[i.extend({},e,n),t]},def:function(t,e,n){if(void 0!==t[e])throw"Redefining symbol "+e;return t[e]=n,[void 0,t]},def_transport:function(t,e,n,o,r,c){var u,l=f[n];if(!l)throw new s.UnsupportedTransport(n);u=!(t.enabledTransports&&-1===i.arrayIndexOf(t.enabledTransports,e)||t.disabledTransports&&-1!==i.arrayIndexOf(t.disabledTransports,e))?new a.default(e,o,c?c.getAssistant(l):l,i.extend({key:t.key,encrypted:t.encrypted,timeline:t.timeline,ignoreNullOrigin:t.ignoreNullOrigin},r)):v;var d=t.def(t,e,u)[1];return d.Transports=t.Transports||{},d.Transports[e]=u,[void 0,d]},transport_manager:m(function(t,e){return new r.default(e)}),sequential:m(function(t,e){var n=Array.prototype.slice.call(arguments,2);return new c.default(n,e)}),cached:m(function(t,e,n){return new l.default(n,t.Transports,{ttl:e,timeline:t.timeline,encrypted:t.encrypted})}),first_connected:m(function(t,e){return new p.default(e)}),best_connected_ever:m(function(){var t=Array.prototype.slice.call(arguments,1);return new u.default(t)}),delayed:m(function(t,e,n){return new d.default(n,{delay:e})}),if:m(function(t,e,n,i){return new h.default(e,n,i)}),is_supported:m(function(t,e){return function(){return e.isSupported()}})};function g(t){return"string"==typeof t&&":"===t.charAt(0)}function w(t,e){return e[t.slice(1)]}function b(t,e){if(g(t[0])){var n=w(t[0],e);if(t.length>1){if("function"!=typeof n)throw"Calling non-function "+t[0];var o=[i.extend({},e)].concat(i.map(t.slice(1),function(t){return k(t,i.extend({},e))[0]}));return n.apply(this,o)}return[n,e]}return function t(e,n){if(0===e.length)return[[],n];var i=k(e[0],n),o=t(e.slice(1),i[1]);return[[i[0]].concat(o[0]),o[1]]}(t,e)}function k(t,e){return"string"==typeof t?function(t,e){if(!g(t))return[t,e];var n=w(t,e);if(void 0===n)throw"Undefined symbol "+t;return[n,e]}(t,e):"object"==typeof t&&t instanceof Array&&t.length>0?b(t,e):[t,e]}},function(t,e,n){"use strict";var i=n(43),o=function(){function t(t){this.options=t||{},this.livesLeft=this.options.lives||1/0}return t.prototype.getAssistant=function(t){return i.default.createAssistantToTheTransportManager(this,t,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},t.prototype.isAlive=function(){return this.livesLeft>0},t.prototype.reportDeath=function(){this.livesLeft-=1},t}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var i=n(44),o=n(45),r=n(48),s=n(49),a=n(50),c=n(51),u=n(52),l=n(54),d=n(55),h={createChannels:function(){return new d.default},createConnectionManager:function(t,e){return new l.default(t,e)},createChannel:function(t,e){return new u.default(t,e)},createPrivateChannel:function(t,e){return new c.default(t,e)},createPresenceChannel:function(t,e){return new a.default(t,e)},createTimelineSender:function(t,e){return new s.default(t,e)},createAuthorizer:function(t,e){return e.authorizer?e.authorizer(t,e):new r.default(t,e)},createHandshake:function(t,e){return new o.default(t,e)},createAssistantToTheTransportManager:function(t,e,n){return new i.default(t,e,n)}};e.__esModule=!0,e.default=h},function(t,e,n){"use strict";var i=n(11),o=n(9),r=function(){function t(t,e,n){this.manager=t,this.transport=e,this.minPingDelay=n.minPingDelay,this.maxPingDelay=n.maxPingDelay,this.pingDelay=void 0}return t.prototype.createConnection=function(t,e,n,r){var s=this;r=o.extend({},r,{activityTimeout:this.pingDelay});var a=this.transport.createConnection(t,e,n,r),c=null,u=function(){a.unbind("open",u),a.bind("closed",l),c=i.default.now()},l=function(t){if(a.unbind("closed",l),1002===t.code||1003===t.code)s.manager.reportDeath();else if(!t.wasClean&&c){var e=i.default.now()-c;e<2*s.maxPingDelay&&(s.manager.reportDeath(),s.pingDelay=Math.max(e/2,s.minPingDelay))}};return a.bind("open",u),a},t.prototype.isSupported=function(t){return this.manager.isAlive()&&this.transport.isSupported(t)},t}();e.__esModule=!0,e.default=r},function(t,e,n){"use strict";var i=n(9),o=n(46),r=n(47),s=function(){function t(t,e){this.transport=t,this.callback=e,this.bindListeners()}return t.prototype.close=function(){this.unbindListeners(),this.transport.close()},t.prototype.bindListeners=function(){var t=this;this.onMessage=function(e){var n;t.unbindListeners();try{n=o.processHandshake(e)}catch(e){return t.finish("error",{error:e}),void t.transport.close()}"connected"===n.action?t.finish("connected",{connection:new r.default(n.id,t.transport),activityTimeout:n.activityTimeout}):(t.finish(n.action,{error:n.error}),t.transport.close())},this.onClosed=function(e){t.unbindListeners();var n=o.getCloseAction(e)||"backoff",i=o.getCloseError(e);t.finish(n,{error:i})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},t.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},t.prototype.finish=function(t,e){this.callback(i.extend({transport:this.transport,action:t},e))},t}();e.__esModule=!0,e.default=s},function(t,e){"use strict";e.decodeMessage=function(t){try{var e=JSON.parse(t.data);if("string"==typeof e.data)try{e.data=JSON.parse(e.data)}catch(t){if(!(t instanceof SyntaxError))throw t}return e}catch(e){throw{type:"MessageParseError",error:e,data:t.data}}},e.encodeMessage=function(t){return JSON.stringify(t)},e.processHandshake=function(t){if("pusher:connection_established"===(t=e.decodeMessage(t)).event){if(!t.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:t.data.socket_id,activityTimeout:1e3*t.data.activity_timeout}}if("pusher:error"===t.event)return{action:this.getCloseAction(t.data),error:this.getCloseError(t.data)};throw"Invalid handshake"},e.getCloseAction=function(t){return t.code<4e3?t.code>=1002&&t.code<=1004?"backoff":null:4e3===t.code?"ssl_only":t.code<4100?"refused":t.code<4200?"backoff":t.code<4300?"retry":"refused"},e.getCloseError=function(t){return 1e3!==t.code&&1001!==t.code?{type:"PusherError",data:{code:t.code,message:t.reason||t.message}}:null}},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=n(9),r=n(24),s=n(46),a=n(8),c=function(t){function e(e,n){t.call(this),this.id=e,this.transport=n,this.activityTimeout=n.activityTimeout,this.bindListeners()}return i(e,t),e.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},e.prototype.send=function(t){return this.transport.send(t)},e.prototype.send_event=function(t,e,n){var i={event:t,data:e};return n&&(i.channel=n),a.default.debug("Event sent",i),this.send(s.encodeMessage(i))},e.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},e.prototype.close=function(){this.transport.close()},e.prototype.bindListeners=function(){var t=this,e={message:function(e){var n;try{n=s.decodeMessage(e)}catch(n){t.emit("error",{type:"MessageParseError",error:n,data:e.data})}if(void 0!==n){switch(a.default.debug("Event recd",n),n.event){case"pusher:error":t.emit("error",{type:"PusherError",data:n.data});break;case"pusher:ping":t.emit("ping");break;case"pusher:pong":t.emit("pong")}t.emit("message",n)}},activity:function(){t.emit("activity")},error:function(e){t.emit("error",{type:"WebSocketError",error:e})},closed:function(e){n(),e&&e.code&&t.handleCloseEvent(e),t.transport=null,t.emit("closed")}},n=function(){o.objectApply(e,function(e,n){t.transport.unbind(n,e)})};o.objectApply(e,function(e,n){t.transport.bind(n,e)})},e.prototype.handleCloseEvent=function(t){var e=s.getCloseAction(t),n=s.getCloseError(t);n&&this.emit("error",n),e&&this.emit(e)},e}(r.default);e.__esModule=!0,e.default=c},function(t,e,n){"use strict";var i=n(2),o=function(){function t(t,e){this.channel=t;var n=e.authTransport;if(void 0===i.default.getAuthorizers()[n])throw"'"+n+"' is not a recognized auth transport";this.type=n,this.options=e,this.authOptions=(e||{}).auth||{}}return t.prototype.composeQuery=function(t){var e="socket_id="+encodeURIComponent(t)+"&channel_name="+encodeURIComponent(this.channel.name);for(var n in this.authOptions.params)e+="&"+encodeURIComponent(n)+"="+encodeURIComponent(this.authOptions.params[n]);return e},t.prototype.authorize=function(e,n){return t.authorizers=t.authorizers||i.default.getAuthorizers(),t.authorizers[this.type].call(this,i.default,e,n)},t}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var i=n(2),o=function(){function t(t,e){this.timeline=t,this.options=e||{}}return t.prototype.send=function(t,e){this.timeline.isEmpty()||this.timeline.send(i.default.TimelineTransport.getAgent(this,t),e)},t}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=n(51),r=n(8),s=n(53),a=n(14),c=function(t){function e(e,n){t.call(this,e,n),this.members=new s.default}return i(e,t),e.prototype.authorize=function(e,n){var i=this;t.prototype.authorize.call(this,e,function(t,e){if(!t){if(void 0===e.channel_data){var o=a.default.buildLogSuffix("authenticationEndpoint");return r.default.warn("Invalid auth response for channel '"+i.name+"',expected 'channel_data' field. "+o),void n("Invalid auth response")}var s=JSON.parse(e.channel_data);i.members.setMyID(s.user_id)}n(t,e)})},e.prototype.handleEvent=function(t,e){switch(t){case"pusher_internal:subscription_succeeded":this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(e),this.emit("pusher:subscription_succeeded",this.members));break;case"pusher_internal:member_added":var n=this.members.addMember(e);this.emit("pusher:member_added",n);break;case"pusher_internal:member_removed":var i=this.members.removeMember(e);i&&this.emit("pusher:member_removed",i);break;default:o.default.prototype.handleEvent.call(this,t,e)}},e.prototype.disconnect=function(){this.members.reset(),t.prototype.disconnect.call(this)},e}(o.default);e.__esModule=!0,e.default=c},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=n(43),r=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.authorize=function(t,e){return o.default.createAuthorizer(this,this.pusher.config).authorize(t,e)},e}(n(52).default);e.__esModule=!0,e.default=r},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=n(24),r=n(31),s=n(8),a=function(t){function e(e,n){t.call(this,function(t,n){s.default.debug("No callbacks on "+e+" for "+t)}),this.name=e,this.pusher=n,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}return i(e,t),e.prototype.authorize=function(t,e){return e(!1,{})},e.prototype.trigger=function(t,e){if(0!==t.indexOf("client-"))throw new r.BadEventName("Event '"+t+"' does not start with 'client-'");return this.pusher.send_event(t,e,this.name)},e.prototype.disconnect=function(){this.subscribed=!1,this.subscriptionPending=!1},e.prototype.handleEvent=function(t,e){0===t.indexOf("pusher_internal:")?"pusher_internal:subscription_succeeded"===t&&(this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",e)):this.emit(t,e)},e.prototype.subscribe=function(){var t=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,function(e,n){e?t.handleEvent("pusher:subscription_error",n):t.pusher.send_event("pusher:subscribe",{auth:n.auth,channel_data:n.channel_data,channel:t.name})}))},e.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},e.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},e.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},e}(o.default);e.__esModule=!0,e.default=a},function(t,e,n){"use strict";var i=n(9),o=function(){function t(){this.reset()}return t.prototype.get=function(t){return Object.prototype.hasOwnProperty.call(this.members,t)?{id:t,info:this.members[t]}:null},t.prototype.each=function(t){var e=this;i.objectApply(this.members,function(n,i){t(e.get(i))})},t.prototype.setMyID=function(t){this.myID=t},t.prototype.onSubscription=function(t){this.members=t.presence.hash,this.count=t.presence.count,this.me=this.get(this.myID)},t.prototype.addMember=function(t){return null===this.get(t.user_id)&&this.count++,this.members[t.user_id]=t.user_info,this.get(t.user_id)},t.prototype.removeMember=function(t){var e=this.get(t.user_id);return e&&(delete this.members[t.user_id],this.count--),e},t.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},t}();e.__esModule=!0,e.default=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},o=n(24),r=n(12),s=n(8),a=n(9),c=n(2),u=function(t){function e(e,n){var i=this;t.call(this),this.key=e,this.options=n||{},this.state="initialized",this.connection=null,this.encrypted=!!n.encrypted,this.timeline=this.options.timeline,this.connectionCallbacks=this.buildConnectionCallbacks(),this.errorCallbacks=this.buildErrorCallbacks(),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var o=c.default.getNetwork();o.bind("online",function(){i.timeline.info({netinfo:"online"}),"connecting"!==i.state&&"unavailable"!==i.state||i.retryIn(0)}),o.bind("offline",function(){i.timeline.info({netinfo:"offline"}),i.connection&&i.sendActivityCheck()}),this.updateStrategy()}return i(e,t),e.prototype.connect=function(){this.connection||this.runner||(this.strategy.isSupported()?(this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()):this.updateState("failed"))},e.prototype.send=function(t){return!!this.connection&&this.connection.send(t)},e.prototype.send_event=function(t,e,n){return!!this.connection&&this.connection.send_event(t,e,n)},e.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},e.prototype.isEncrypted=function(){return this.encrypted},e.prototype.startConnecting=function(){var t=this,e=function(n,i){n?t.runner=t.strategy.connect(0,e):"error"===i.action?(t.emit("error",{type:"HandshakeError",error:i.error}),t.timeline.error({handshakeError:i.error})):(t.abortConnecting(),t.handshakeCallbacks[i.action](i))};this.runner=this.strategy.connect(0,e)},e.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},e.prototype.disconnectInternally=function(){(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection)&&this.abandonConnection().close()},e.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,encrypted:this.encrypted})},e.prototype.retryIn=function(t){var e=this;this.timeline.info({action:"retry",delay:t}),t>0&&this.emit("connecting_in",Math.round(t/1e3)),this.retryTimer=new r.OneOffTimer(t||0,function(){e.disconnectInternally(),e.connect()})},e.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},e.prototype.setUnavailableTimer=function(){var t=this;this.unavailableTimer=new r.OneOffTimer(this.options.unavailableTimeout,function(){t.updateState("unavailable")})},e.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},e.prototype.sendActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new r.OneOffTimer(this.options.pongTimeout,function(){t.timeline.error({pong_timed_out:t.options.pongTimeout}),t.retryIn(0)})},e.prototype.resetActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new r.OneOffTimer(this.activityTimeout,function(){t.sendActivityCheck()}))},e.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},e.prototype.buildConnectionCallbacks=function(){var t=this;return{message:function(e){t.resetActivityCheck(),t.emit("message",e)},ping:function(){t.send_event("pusher:pong",{})},activity:function(){t.resetActivityCheck()},error:function(e){t.emit("error",{type:"WebSocketError",error:e})},closed:function(){t.abandonConnection(),t.shouldRetry()&&t.retryIn(1e3)}}},e.prototype.buildHandshakeCallbacks=function(t){var e=this;return a.extend({},t,{connected:function(t){e.activityTimeout=Math.min(e.options.activityTimeout,t.activityTimeout,t.connection.activityTimeout||1/0),e.clearUnavailableTimer(),e.setConnection(t.connection),e.socket_id=e.connection.id,e.updateState("connected",{socket_id:e.socket_id})}})},e.prototype.buildErrorCallbacks=function(){var t=this,e=function(e){return function(n){n.error&&t.emit("error",{type:"WebSocketError",error:n.error}),e(n)}};return{ssl_only:e(function(){t.encrypted=!0,t.updateStrategy(),t.retryIn(0)}),refused:e(function(){t.disconnect()}),backoff:e(function(){t.retryIn(1e3)}),retry:e(function(){t.retryIn(0)})}},e.prototype.setConnection=function(t){for(var e in this.connection=t,this.connectionCallbacks)this.connection.bind(e,this.connectionCallbacks[e]);this.resetActivityCheck()},e.prototype.abandonConnection=function(){if(this.connection){for(var t in this.stopActivityCheck(),this.connectionCallbacks)this.connection.unbind(t,this.connectionCallbacks[t]);var e=this.connection;return this.connection=null,e}},e.prototype.updateState=function(t,e){var n=this.state;if(this.state=t,n!==t){var i=t;"connected"===i&&(i+=" with new socket ID "+e.socket_id),s.default.debug("State changed",n+" -> "+i),this.timeline.info({state:t,params:e}),this.emit("state_change",{previous:n,current:t}),this.emit(t,e)}},e.prototype.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},e}(o.default);e.__esModule=!0,e.default=u},function(t,e,n){"use strict";var i=n(9),o=n(43),r=function(){function t(){this.channels={}}return t.prototype.add=function(t,e){return this.channels[t]||(this.channels[t]=function(t,e){return 0===t.indexOf("private-")?o.default.createPrivateChannel(t,e):0===t.indexOf("presence-")?o.default.createPresenceChannel(t,e):o.default.createChannel(t,e)}(t,e)),this.channels[t]},t.prototype.all=function(){return i.values(this.channels)},t.prototype.find=function(t){return this.channels[t]},t.prototype.remove=function(t){var e=this.channels[t];return delete this.channels[t],e},t.prototype.disconnect=function(){i.objectApply(this.channels,function(t){t.disconnect()})},t}();e.__esModule=!0,e.default=r},function(t,e,n){"use strict";var i=n(43),o=n(11),r=n(31),s=n(9),a=function(){function t(t,e,n,i){this.name=t,this.priority=e,this.transport=n,this.options=i||{}}return t.prototype.isSupported=function(){return this.transport.isSupported({encrypted:this.options.encrypted})},t.prototype.connect=function(t,e){var n=this;if(!this.isSupported())return c(new r.UnsupportedStrategy,e);if(this.priority<t)return c(new r.TransportPriorityTooLow,e);var o=!1,a=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),u=null,l=function(){a.unbind("initialized",l),a.connect()},d=function(){u=i.default.createHandshake(a,function(t){o=!0,f(),e(null,t)})},h=function(t){f(),e(t)},p=function(){var t;f(),t=s.safeJSONStringify(a),e(new r.TransportClosed(t))},f=function(){a.unbind("initialized",l),a.unbind("open",d),a.unbind("error",h),a.unbind("closed",p)};return a.bind("initialized",l),a.bind("open",d),a.bind("error",h),a.bind("closed",p),a.initialize(),{abort:function(){o||(f(),u?u.close():a.close())},forceMinPriority:function(t){o||n.priority<t&&(u?u.close():a.close())}}},t}();function c(t,e){return o.default.defer(function(){e(t)}),{abort:function(){},forceMinPriority:function(){}}}e.__esModule=!0,e.default=a},function(t,e,n){"use strict";var i=n(9),o=n(11),r=n(12),s=function(){function t(t,e){this.strategies=t,this.loop=Boolean(e.loop),this.failFast=Boolean(e.failFast),this.timeout=e.timeout,this.timeoutLimit=e.timeoutLimit}return t.prototype.isSupported=function(){return i.any(this.strategies,o.default.method("isSupported"))},t.prototype.connect=function(t,e){var n=this,i=this.strategies,o=0,r=this.timeout,s=null,a=function(c,u){u?e(null,u):(o+=1,n.loop&&(o%=i.length),o<i.length?(r&&(r*=2,n.timeoutLimit&&(r=Math.min(r,n.timeoutLimit))),s=n.tryStrategy(i[o],t,{timeout:r,failFast:n.failFast},a)):e(!0))};return s=this.tryStrategy(i[o],t,{timeout:r,failFast:this.failFast},a),{abort:function(){s.abort()},forceMinPriority:function(e){t=e,s&&s.forceMinPriority(e)}}},t.prototype.tryStrategy=function(t,e,n,i){var o=null,s=null;return n.timeout>0&&(o=new r.OneOffTimer(n.timeout,function(){s.abort(),i(!0)})),s=t.connect(e,function(t,e){t&&o&&o.isRunning()&&!n.failFast||(o&&o.ensureAborted(),i(t,e))}),{abort:function(){o&&o.ensureAborted(),s.abort()},forceMinPriority:function(t){s.forceMinPriority(t)}}},t}();e.__esModule=!0,e.default=s},function(t,e,n){"use strict";var i=n(9),o=n(11),r=function(){function t(t){this.strategies=t}return t.prototype.isSupported=function(){return i.any(this.strategies,o.default.method("isSupported"))},t.prototype.connect=function(t,e){return function(t,e,n){var o=i.map(t,function(t,i,o,r){return t.connect(e,n(i,r))});return{abort:function(){i.apply(o,s)},forceMinPriority:function(t){i.apply(o,function(e){e.forceMinPriority(t)})}}}(this.strategies,t,function(t,n){return function(o,r){n[t].error=o,o?function(t){return i.all(t,function(t){return Boolean(t.error)})}(n)&&e(!0):(i.apply(n,function(t){t.forceMinPriority(r.transport.priority)}),e(null,r))}})},t}();function s(t){t.error||t.aborted||(t.abort(),t.aborted=!0)}e.__esModule=!0,e.default=r},function(t,e,n){"use strict";var i=n(11),o=n(2),r=n(57),s=n(9),a=function(){function t(t,e,n){this.strategy=t,this.transports=e,this.ttl=n.ttl||18e5,this.encrypted=n.encrypted,this.timeline=n.timeline}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n=this.encrypted,a=function(t){var e=o.default.getLocalStorage();if(e)try{var n=e[c(t)];if(n)return JSON.parse(n)}catch(e){u(t)}return null}(n),l=[this.strategy];if(a&&a.timestamp+this.ttl>=i.default.now()){var d=this.transports[a.transport];d&&(this.timeline.info({cached:!0,transport:a.transport,latency:a.latency}),l.push(new r.default([d],{timeout:2*a.latency+1e3,failFast:!0})))}var h=i.default.now(),p=l.pop().connect(t,function r(a,d){a?(u(n),l.length>0?(h=i.default.now(),p=l.pop().connect(t,r)):e(a)):(!function(t,e,n){var r=o.default.getLocalStorage();if(r)try{r[c(t)]=s.safeJSONStringify({timestamp:i.default.now(),transport:e,latency:n})}catch(t){}}(n,d.transport.name,i.default.now()-h),e(null,d))});return{abort:function(){p.abort()},forceMinPriority:function(e){t=e,p&&p.forceMinPriority(e)}}},t}();function c(t){return"pusherTransport"+(t?"Encrypted":"Unencrypted")}function u(t){var e=o.default.getLocalStorage();if(e)try{delete e[c(t)]}catch(t){}}e.__esModule=!0,e.default=a},function(t,e,n){"use strict";var i=n(12),o=function(){function t(t,e){var n=e.delay;this.strategy=t,this.options={delay:n}}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n,o=this.strategy,r=new i.OneOffTimer(this.options.delay,function(){n=o.connect(t,e)});return{abort:function(){r.ensureAborted(),n&&n.abort()},forceMinPriority:function(e){t=e,n&&n.forceMinPriority(e)}}},t}();e.__esModule=!0,e.default=o},function(t,e){"use strict";var n=function(){function t(t,e,n){this.test=t,this.trueBranch=e,this.falseBranch=n}return t.prototype.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()},t.prototype.connect=function(t,e){return(this.test()?this.trueBranch:this.falseBranch).connect(t,e)},t}();e.__esModule=!0,e.default=n},function(t,e){"use strict";var n=function(){function t(t){this.strategy=t}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var n=this.strategy.connect(t,function(t,i){i&&n.abort(),e(t,i)});return n},t}();e.__esModule=!0,e.default=n},function(t,e,n){"use strict";var i=n(5);e.getGlobalConfig=function(){return{wsHost:i.default.host,wsPort:i.default.ws_port,wssPort:i.default.wss_port,wsPath:i.default.ws_path,httpHost:i.default.sockjs_host,httpPort:i.default.sockjs_http_port,httpsPort:i.default.sockjs_https_port,httpPath:i.default.sockjs_path,statsHost:i.default.stats_host,authEndpoint:i.default.channel_auth_endpoint,authTransport:i.default.channel_auth_transport,activity_timeout:i.default.activity_timeout,pong_timeout:i.default.pong_timeout,unavailable_timeout:i.default.unavailable_timeout}},e.getClusterConfig=function(t){return{wsHost:"ws-"+t+".pusher.com",httpHost:"sockjs-"+t+".pusher.com"}}}])},t.exports=i()},function(t,e){!function(){function t(t){this.value=t}function e(e){var n,i;function o(n,i){try{var s=e[n](i),a=s.value;a instanceof t?Promise.resolve(a.value).then(function(t){o("next",t)},function(t){o("throw",t)}):r(s.done?"return":"normal",s.value)}catch(t){r("throw",t)}}function r(t,e){switch(t){case"return":n.resolve({value:e,done:!0});break;case"throw":n.reject(e);break;default:n.resolve({value:e,done:!1})}(n=n.next)?o(n.key,n.arg):i=null}this._invoke=function(t,e){return new Promise(function(r,s){var a={key:t,arg:e,resolve:r,reject:s,next:null};i?i=i.next=a:(n=i=a,o(t,e))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}();var n=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},a=function(){function t(e){n(this,t),this._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",broadcaster:"pusher",csrfToken:null,host:null,key:null,namespace:"App.Events"},this.setOptions(e),this.connect()}return i(t,[{key:"setOptions",value:function(t){return this.options=o(this._defaultOptions,t),this.csrfToken()&&(this.options.auth.headers["X-CSRF-TOKEN"]=this.csrfToken()),t}},{key:"csrfToken",value:function(){var t=void 0;return"undefined"!=typeof window&&window.Laravel&&window.Laravel.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:"undefined"!=typeof document&&(t=document.querySelector('meta[name="csrf-token"]'))?t.getAttribute("content"):null}}]),t}(),c=function(){function t(){n(this,t)}return i(t,[{key:"notification",value:function(t){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",t)}},{key:"listenForWhisper",value:function(t,e){return this.listen(".client-"+t,e)}}]),t}(),u=function(){function t(e){n(this,t),this.setNamespace(e)}return i(t,[{key:"format",value:function(t){return"."===t.charAt(0)||"\\"===t.charAt(0)?t.substr(1):(this.namespace&&(t=this.namespace+"."+t),t.replace(/\./g,"\\"))}},{key:"setNamespace",value:function(t){this.namespace=t}}]),t}(),l=function(t){function e(t,i,o){n(this,e);var r=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.name=i,r.pusher=t,r.options=o,r.eventFormatter=new u(r.options.namespace),r.subscribe(),r}return r(e,c),i(e,[{key:"subscribe",value:function(){this.subscription=this.pusher.subscribe(this.name)}},{key:"unsubscribe",value:function(){this.pusher.unsubscribe(this.name)}},{key:"listen",value:function(t,e){return this.on(this.eventFormatter.format(t),e),this}},{key:"stopListening",value:function(t){return this.subscription.unbind(this.eventFormatter.format(t)),this}},{key:"on",value:function(t,e){return this.subscription.bind(t,e),this}}]),e}(),d=function(t){function e(){return n(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return r(e,l),i(e,[{key:"whisper",value:function(t,e){return this.pusher.channels.channels[this.name].trigger("client-"+t,e),this}}]),e}(),h=function(t){function e(){return n(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return r(e,l),i(e,[{key:"here",value:function(t){return this.on("pusher:subscription_succeeded",function(e){t(Object.keys(e.members).map(function(t){return e.members[t]}))}),this}},{key:"joining",value:function(t){return this.on("pusher:member_added",function(e){t(e.info)}),this}},{key:"leaving",value:function(t){return this.on("pusher:member_removed",function(e){t(e.info)}),this}},{key:"whisper",value:function(t,e){return this.pusher.channels.channels[this.name].trigger("client-"+t,e),this}}]),e}(),p=function(t){function e(t,i,o){n(this,e);var r=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.events={},r.name=i,r.socket=t,r.options=o,r.eventFormatter=new u(r.options.namespace),r.subscribe(),r.configureReconnector(),r}return r(e,c),i(e,[{key:"subscribe",value:function(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"unsubscribe",value:function(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"listen",value:function(t,e){return this.on(this.eventFormatter.format(t),e),this}},{key:"on",value:function(t,e){var n=this,i=function(t,i){n.name==t&&e(i)};this.socket.on(t,i),this.bind(t,i)}},{key:"configureReconnector",value:function(){var t=this,e=function(){t.subscribe()};this.socket.on("reconnect",e),this.bind("reconnect",e)}},{key:"bind",value:function(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)}},{key:"unbind",value:function(){var t=this;Object.keys(this.events).forEach(function(e){t.events[e].forEach(function(n){t.socket.removeListener(e,n)}),delete t.events[e]})}}]),e}(),f=function(t){function e(){return n(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return r(e,p),i(e,[{key:"whisper",value:function(t,e){return this.socket.emit("client event",{channel:this.name,event:"client-"+t,data:e}),this}}]),e}(),v=function(t){function e(){return n(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return r(e,f),i(e,[{key:"here",value:function(t){return this.on("presence:subscribed",function(e){t(e.map(function(t){return t.user_info}))}),this}},{key:"joining",value:function(t){return this.on("presence:joining",function(e){return t(e.user_info)}),this}},{key:"leaving",value:function(t){return this.on("presence:leaving",function(e){return t(e.user_info)}),this}}]),e}(),m=function(t){function e(){var t;n(this,e);for(var i=arguments.length,o=Array(i),r=0;r<i;r++)o[r]=arguments[r];var a=s(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o)));return a.channels={},a}return r(e,a),i(e,[{key:"connect",value:function(){this.pusher=new Pusher(this.options.key,this.options)}},{key:"listen",value:function(t,e,n){return this.channel(t).listen(e,n)}},{key:"channel",value:function(t){return this.channels[t]||(this.channels[t]=new l(this.pusher,t,this.options)),this.channels[t]}},{key:"privateChannel",value:function(t){return this.channels["private-"+t]||(this.channels["private-"+t]=new d(this.pusher,"private-"+t,this.options)),this.channels["private-"+t]}},{key:"presenceChannel",value:function(t){return this.channels["presence-"+t]||(this.channels["presence-"+t]=new h(this.pusher,"presence-"+t,this.options)),this.channels["presence-"+t]}},{key:"leave",value:function(t){var e=this;[t,"private-"+t,"presence-"+t].forEach(function(t,n){e.channels[t]&&(e.channels[t].unsubscribe(),delete e.channels[t])})}},{key:"socketId",value:function(){return this.pusher.connection.socket_id}},{key:"disconnect",value:function(){this.pusher.disconnect()}}]),e}(),y=function(t){function e(){var t;n(this,e);for(var i=arguments.length,o=Array(i),r=0;r<i;r++)o[r]=arguments[r];var a=s(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o)));return a.channels={},a}return r(e,a),i(e,[{key:"connect",value:function(){var t=this.getSocketIO();return this.socket=t(this.options.host,this.options),this.socket}},{key:"getSocketIO",value:function(){if("undefined"!=typeof io)return io;if("undefined"!==this.options.client)return this.options.client;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}},{key:"listen",value:function(t,e,n){return this.channel(t).listen(e,n)}},{key:"channel",value:function(t){return this.channels[t]||(this.channels[t]=new p(this.socket,t,this.options)),this.channels[t]}},{key:"privateChannel",value:function(t){return this.channels["private-"+t]||(this.channels["private-"+t]=new f(this.socket,"private-"+t,this.options)),this.channels["private-"+t]}},{key:"presenceChannel",value:function(t){return this.channels["presence-"+t]||(this.channels["presence-"+t]=new v(this.socket,"presence-"+t,this.options)),this.channels["presence-"+t]}},{key:"leave",value:function(t){var e=this;[t,"private-"+t,"presence-"+t].forEach(function(t){e.channels[t]&&(e.channels[t].unsubscribe(),delete e.channels[t])})}},{key:"socketId",value:function(){return this.socket.id}},{key:"disconnect",value:function(){this.socket.disconnect()}}]),e}(),g=function(){function t(e){n(this,t),this.options=e,"function"==typeof Vue&&Vue.http&&this.registerVueRequestInterceptor(),"function"==typeof axios&&this.registerAxiosRequestInterceptor(),"function"==typeof jQuery&&this.registerjQueryAjaxSetup(),"pusher"==this.options.broadcaster?this.connector=new m(this.options):"socket.io"==this.options.broadcaster&&(this.connector=new y(this.options))}return i(t,[{key:"registerVueRequestInterceptor",value:function(){var t=this;Vue.http.interceptors.push(function(e,n){t.socketId()&&e.headers.set("X-Socket-ID",t.socketId()),n()})}},{key:"registerAxiosRequestInterceptor",value:function(){var t=this;axios.interceptors.request.use(function(e){return t.socketId()&&(e.headers["X-Socket-Id"]=t.socketId()),e})}},{key:"registerjQueryAjaxSetup",value:function(){var t=this;void 0!==jQuery.ajax&&jQuery.ajaxSetup({beforeSend:function(e){t.socketId()&&e.setRequestHeader("X-Socket-Id",t.socketId())}})}},{key:"listen",value:function(t,e,n){return this.connector.listen(t,e,n)}},{key:"channel",value:function(t){return this.connector.channel(t)}},{key:"private",value:function(t){return this.connector.privateChannel(t)}},{key:"join",value:function(t){return this.connector.presenceChannel(t)}},{key:"leave",value:function(t){this.connector.leave(t)}},{key:"socketId",value:function(){return this.connector.socketId()}},{key:"disconnect",value:function(){this.connector.disconnect()}}]),t}();t.exports=g},function(t,e){}]);